{"version":3,"sources":["webpack:///src/app/pages/Inventarios/ivt-movimientos/ivt-movimientos-routing.module.ts","webpack:///src/app/pages/Inventarios/ivt-movimientos/ivt-movimientos.module.ts","webpack:///src/app/pages/Inventarios/ivt-movimientos/ivt-movimientos.page.html","webpack:///src/app/pages/Inventarios/ivt-movimientos/ivt-movimientos.page.ts"],"names":["routes","path","component","IvtMovimientosPageRoutingModule","forChild","imports","exports","IvtMovimientosPageModule","declarations","IvtMovimientosPage","almacenamiento","ivtApi","toastCtrl","router","activeRoute","movimientos","desde","carga","inicio","obtenerToken","login","leerMovmientos","token","id","snapshot","paramMap","get","subscribe","data","exe","response","alertApplication","error","console","log","event","then","detail","complete","info","length","forEach","item","push","target","disabled","selector","templateUrl","styleUrls","static"],"mappings":"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","file":"Inventarios-ivt-movimientos-ivt-movimientos-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IvtMovimientosPage } from './ivt-movimientos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IvtMovimientosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IvtMovimientosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IvtMovimientosPageRoutingModule } from './ivt-movimientos-routing.module';\n\nimport { IvtMovimientosPage } from './ivt-movimientos.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IvtMovimientosPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [IvtMovimientosPage]\n})\nexport class IvtMovimientosPageModule {}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"success\">\n        <ion-back-button slot=\"start\" icon=\"chevron-back-outline\" defaultHref=\"/central/menu/ivt-inicio\"></ion-back-button>\n        <ion-title>Movimientos</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <h3 class=\"tituloGrande\" *ngIf=\"movimientos.length === 0\">No hay movimientos en el inventario</h3>\n    <ion-list class=\"blanco \" *ngIf=\"movimientos.length > 0\">\n        <ion-item mode=\"ios\" *ngFor=\"let movimiento of movimientos; let i = index;\">\n            <ion-avatar class=\"avatar\" slot=\"start\">\n                <ion-img src=\"{{movimiento.mensaje | ImagenSelect}}\"></ion-img>\n            </ion-avatar>\n            <ion-label class=\"ion-text-wrap\">\n                <div>{{movimiento.mensaje}}</div><br>\n                <div class=\"ion-text-right\"><strong class=\"ama\">{{movimiento.fecha | cambioUTC}}</strong></div>\n\n            </ion-label>\n\n        </ion-item>\n    </ion-list>\n\n    <ion-infinite-scroll *ngIf=\"carga\" #inifinito threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n        <ion-infinite-scroll-content loadingSpinner=\"bubbles\" loadingText=\"Cargando entradas...\">\n        </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n</ion-content>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { IonInfiniteScroll } from '@ionic/angular';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { UsuariosLoginService } from 'src/app/providers/Api/UsuariosLogin.service';\nimport { ToastServices } from 'src/app/providers/Utilidades/ToastService.service';\nimport { InventariosService } from '../../../providers/Api/Inventarios.service';\n\n@Component({\n  selector: 'app-ivt-movimientos',\n  templateUrl: './ivt-movimientos.page.html',\n  styleUrls: ['./ivt-movimientos.page.scss'],\n})\nexport class IvtMovimientosPage implements OnInit {\n\n  movimientos: any = [];\n  desde = 0;\n  carga = false;\n\n  @ViewChild('inifinito', {static: false}) infinite: IonInfiniteScroll;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private ivtApi: InventariosService,\n    private toastCtrl: ToastServices,\n    private router: Router,\n    private activeRoute: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n\n    this.inicio();\n\n  }\n\n  async inicio() {\n      const login = await this.almacenamiento.obtenerToken();\n\n      if (login) {\n        this.ivtApi.leerMovmientos(login.token, {desde: this.desde, id: this.activeRoute.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n          if (data.exe) {\n              this.movimientos= data.response;\n              this.carga = true;\n            } else {\n              this.toastCtrl.alertApplication('No se pudo traer los movimientos, intentelo más tarde', false);\n            }\n        }, (error) => {\n          console.log(error)\n            this.toastCtrl.alertApplication('No se pudo traer los movimientos, intentelo más tarde', false);\n        })\n      }\n  }\n\n  refrescando( event ) {\n    this.desde = 0;\n    this.inicio().then(() => {\n      event.detail.complete();\n    })\n  }\n\n  async loadData( event ) {\n    this.desde = this.desde + 10;\n    console.log(this.desde)\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n\n      this.ivtApi.leerMovmientos(info.token, {desde: this.desde, id: this.activeRoute.snapshot.paramMap.get('id')}).subscribe((data: any) => {\n        console.log(data);\n        if (data.exe) {\n           \n            if ( data.response.length > 0  ) {\n               \n            data.response.forEach((item) => {\n              \n              this.movimientos.push(item)\n            })\n            event.target.complete();\n           } else {\n            event.target.disabled = true;\n            this.desde = 0;\n           }\n          } else {\n            this.toastCtrl.alertApplication('No se pudo traer los movimientos, intentelo más tarde', false);\n          }\n      }, (error) => {\n        console.log(error)\n          this.toastCtrl.alertApplication('No se pudo traer los movimientos, intentelo más tarde', false);\n      })\n\n    }\n  } \n\n\n\n}\n"]}