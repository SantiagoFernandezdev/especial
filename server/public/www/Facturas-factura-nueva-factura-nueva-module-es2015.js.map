{"version":3,"sources":["./src/app/pages/Facturas/factura-nueva/factura-nueva-routing.module.ts","./src/app/pages/Facturas/factura-nueva/factura-nueva.module.ts","./src/app/pages/Facturas/factura-nueva/factura-nueva.page.ts","./src/app/pages/Facturas/factura-nueva/factura-nueva.page.html","./src/app/pages/Facturas/modal-factura/modal-factura-routing.module.ts","./src/app/pages/Facturas/modal-factura/modal-factura.module.ts","./src/app/pages/Facturas/modal-factura/modal-factura.page.ts","./src/app/pages/Facturas/modal-factura/modal-factura.page.html"],"names":[],"mappings":"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","file":"Facturas-factura-nueva-factura-nueva-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacturaNuevaPage } from './factura-nueva.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacturaNuevaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacturaNuevaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacturaNuevaPageRoutingModule } from './factura-nueva-routing.module';\n\nimport { FacturaNuevaPage } from './factura-nueva.page';\nimport { ModalFacturaPage } from '../modal-factura/modal-factura.page';\nimport { ModalFacturaPageModule } from '../modal-factura/modal-factura.module';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  entryComponents: [\n    ModalFacturaPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FacturaNuevaPageRoutingModule,\n    ModalFacturaPageModule,\n    PipesModule\n  ],\n  declarations: [FacturaNuevaPage]\n})\nexport class FacturaNuevaPageModule {}\n","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\nimport { AlertController, IonInfiniteScroll, ModalController } from '@ionic/angular';\nimport { LoadingService } from '../../../providers/Utilidades/LoadingService.service';\nimport { ModalFacturaPage } from '../modal-factura/modal-factura.page';\n\n@Component({\n  selector: 'app-factura-nueva',\n  templateUrl: './factura-nueva.page.html',\n  styleUrls: ['./factura-nueva.page.scss'],\n})\nexport class FacturaNuevaPage implements OnInit {\n\n  facturas = [];\n  car = true;\n  load = false;\n  nuevo = false;\n  mostrar = false;\n  nit = '';\n  direccion = '';\n  regimen = '';\n  titular = '';\n  telefono: '';\n  iva = false;\n  valorIva = 0;\n\n  id = '';\n\n  mensaje = true;\n\n  desde = 0;\n  patron = '';\n\n\n  @ViewChild('inifinito', {static: false}) infinite: IonInfiniteScroll;\n  constructor(\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private apiFactura: FacturasService,\n    private modalCtrl: ModalController,\n    private loading: LoadingService,\n    private alert: AlertController\n  ) { }\n\n  ngOnInit() {\n    setTimeout(() => {\n      this.mensaje = false;\n    }, 7000 )\n  }\n\n  ionViewWillEnter() {\n    this.mostrar = false;\n    this.consultar();\n  }\n\n\n  refrescando( event ) {\n    this.cargarFacturas().then(() => {\n      event.target.complete();\n    }).catch(() => event.target.complete());\n  }\n\n  async cargarFacturas() {\n    this.desde = 0;\n    if (this.load) {\n      \n      this.infinite.disabled = false;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.apiFactura.consultarFacturas(info.token, {desde: this.desde }).subscribe((data: any) => {\n        if (data.exe) {\n            this.facturas = data.response;\n        } else {\n          this.toast.toastError('No se pudo cargar las facturas, intentelo más tarde');\n        }\n        this.load = true;\n      }, (err) => {\n          this.toast.toastError('No se pudo cargar las facturas, intentelo más tarde');\n      })\n    }\n}\nasync buscar(event) {\n    console.log(event.detail, 'epale');\n    \n    if ( event.detail.value !== '') {\n      this.desde = 0;\n      this.infinite.disabled = false;\n      this.patron = event.detail.value;\n\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info ) {\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          console.log(data, 'mi data');\n          if ( data.exe ){\n            this.facturas = data.response;\n            if ( data.response.length === 0) {\n              this.desde = 0;\n            }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n    } else {\n      this.desde = 0;\n    \n    }\n  }\n\n  \n  async loadData( event ) {\n    // event.target.complete()\n    this.desde = this.desde + 5;\n\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      if ( this.patron === '') {\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          console.log(data);\n          if (data.exe) {\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.facturas.push(hoja);\n              })\n              event.target.complete();\n             } else {\n              event.target.disabled = true;\n              this.desde = 0;\n             }\n          } else {\n            this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n        })\n      } else {\n        // tslint:disable-next-line:max-line-length\n        console.log(this.desde, 'pli');\n        this.apiFactura.consultarFacturas(info.token, {desde: this.desde,  patron: this.patron }).subscribe((data: any) => {\n          console.log(data, 'mi data 2', this.desde);\n          if ( data.exe ){\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.facturas.push(hoja);\n              })\n              event.target.complete();\n           } else {\n            event.target.disabled = true;\n            this.desde = 0;\n           }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n      \n      \n    }\n    }\n\n\n\n\n  async consultar() {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n        this.apiFactura.consultarConfiguracion(info.token).subscribe((data: any) => {\n          if (data.exe) {\n            if (!data.response) {\n              this.nuevo = true;\n            } else {\n              console.log(data)\n              this.regimen = data.response.regimen;\n              this.direccion = data.response.direccion;\n              this.titular = data.response.titular;\n              this.nit = data.response.nit;\n              this.iva = data.response.iva;\n              this.valorIva = data.response.valorIva;\n              this.id = data.response._id;\n\n              this.mostrar = true;\n\n              this.cargarFacturas();\n            }\n          } else {\n            this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n        })\n      }\n  }\n\n  async abrir() {\n      const modal = await this.modalCtrl.create({\n        component: ModalFacturaPage,\n        componentProps: {\n          data: {\n            iva: this.iva,\n            regimen: this.regimen,\n            direccion: this.direccion,\n            nit: this.nit,\n            valorIva: this.valorIva,\n            id: this.id\n          }\n        }\n      })\n\n      await modal.present();\n\n      const cerrado = await modal.onWillDismiss();\n\n      if (cerrado) {\n        if (cerrado.data) {\n         if (cerrado.data.exe) {\n          this.cargarFacturas();\n         }\n        }\n      }\n  }\n\n  async alerta(id) {\n    const alert = await this.alert.create({\n      header: 'Correo electrónico',\n      message: 'Escriba el correo electrónico donde se enviará el documento pdf de la factura',\n      inputs: [\n        {\n          type: 'text',\n          name: 'correo'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel'\n        },\n        {\n          text: 'Enviar',\n          handler: (data) => {\n            this.pdf(data.correo, id);\n          }\n        }\n      ]\n    })\n\n    await alert.present();\n  }\n\n  async pdf(correo, id) {\n\n    const info = await this.almacenamiento.obtenerToken();\n    this.loading.cargaProcesos('Creando Factura y enviandola al correo');\n\n    if ( info  ) {\n      this.apiFactura.enviarrFacturas(info.token, {id, correo}).subscribe((data: any) => {\n        console.log(data, 'respuesta')\n        if (data.exe) {\n          this.toast.toastExitoso('Factura generada y enviada al correo electrónico del cliente');\n        } else {\n          this.toast.toastError('No se pudo enviar la factura, intentelo mpas tarde');\n        }\n        this.loading.finalizarCargado();\n      }, (err) => {\n        this.loading.finalizarCargado();\n        this.toast.toastError('No se pudo enviar la factura, intentelo mpas tarde');\n      })\n    }\n\n  }\n\n}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"oscuro\">\n        <ion-back-button slot=\"start\" icon=\"chevron-back-outline\" defaultHref=\"/central/menu/factura\"></ion-back-button>\n        <ion-title>Crear Factura</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <ion-list *ngIf=\"mensaje\">\n        <ion-item-divider color=\"barra\">\n            <ion-label class=\"ion-text-wrap\">La factura se estructura de acuerdo a los parámetros de configuración establecidos</ion-label>\n        </ion-item-divider>\n    </ion-list>\n\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"refrescando($event)\" pullFactor=\"0.5\" pullMin=\"50\" pullMax=\"150\">\n        <ion-refresher-content pullingIcon=\"arrow-dropdown\" refreshingSpinner=\"circles\">\n        </ion-refresher-content>\n    </ion-refresher>\n\n    <ion-searchbar debounce=\"300\" mode=\"ios\" placeholder=\"Buscar Productos\" (ionChange)=\"buscar($event)\"></ion-searchbar>\n\n\n    <div class=\"divider\"></div>\n\n    <div class=\"cen\" *ngIf=\"facturas.length === 0 && load\">\n        <img src=\"/assets/NuevaFactura.png\" width=\"100px\" alt=\"\">\n        <h3 class=\"tituloGrande\">No tiene facturas creadas hasta el momento</h3>\n        <ion-button mode=\"ios\" shape=\"round\" color=\"success\" (click)=\"abrir()\">Crear Factura</ion-button>\n    </div>\n\n    <ion-list>\n        <ion-item-sliding *ngFor=\"let factura of facturas\">\n            <ion-item>\n\n                <ion-label class=\"ion-text-wrap\">\n                    <div class=\"fl\">\n                        <div class=\"caja\">FACTURA NÚMERO {{ factura.consecutivo }}</div>\n                    </div>\n                    <div class=\"flex\"><strong>Total: </strong> <span>${{ factura.total | decimales: 'es-CO'}}</span></div>\n                    <div class=\"flex\"><strong>Cliente: </strong> <span>{{ factura.cliente }}</span></div>\n                    <div class=\"flex\"><strong>Nit o CC: </strong> <span>{{ factura.cc }}</span></div>\n                </ion-label>\n            </ion-item>\n            <ion-item-options side=\"end\">\n                <ion-item-option color=\"medium\" (click)=\"alerta(factura._id)\">\n                    <ion-icon name=\"document-text-outline\" slot=\"icon-only\"></ion-icon>\n                </ion-item-option>\n            </ion-item-options>\n        </ion-item-sliding>\n    </ion-list>\n\n\n    <ion-infinite-scroll *ngIf=\"load\" #inifinito threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n        <ion-infinite-scroll-content loadingSpinner=\"bubbles\" loadingText=\"Cargando Hojas de Vida...\">\n        </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n    <ion-fab *ngIf=\"facturas.length > 0\" vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n        <ion-fab-button color=\"barra\" (click)=\"abrir()\">\n            <ion-icon name=\"add-outline\"></ion-icon>\n        </ion-fab-button>\n    </ion-fab>\n\n</ion-content>","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ModalFacturaPage } from './modal-factura.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ModalFacturaPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ModalFacturaPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ModalFacturaPageRoutingModule } from './modal-factura-routing.module';\n\nimport { ModalFacturaPage } from './modal-factura.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ModalFacturaPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [ModalFacturaPage]\n})\nexport class ModalFacturaPageModule {}\n","import { Component, Input, OnInit } from '@angular/core';\nimport { AlertController, ModalController } from '@ionic/angular';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\n\n@Component({\n  selector: 'app-modal-factura',\n  templateUrl: './modal-factura.page.html',\n  styleUrls: ['./modal-factura.page.scss'],\n})\nexport class ModalFacturaPage implements OnInit {\n\n  items = [];\n  subtotal = 0;\n  iva = 0;\n  total = 0;\n\n  cliente = '';\n  telefono = '0';\n  direccion = '';\n  cc = '';\n  ciudad = '';\n\n  id = '';\n\n  @Input() data;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private almacenamiento: InicioService,\n    private toast: ToastServices,\n    private alertCtrl: AlertController,\n    private apiFactura: FacturasService\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    // console.log(this.data)\n  }\n\n  cerrar() {\n    this.modalCtrl.dismiss();\n  }\n\n  async crear() {\n    const info = await this.alertCtrl.create({\n      header: 'Crear Item',\n      inputs: [\n        {\n          type: 'number',\n          name: 'cantidad',\n          placeholder: 'Ingrese la cantidad'\n        },\n        {\n          type: 'text',\n          name: 'item',\n          placeholder: 'Descripción'\n        },\n        {\n          type: 'number',\n          name: 'valoru',\n          placeholder: 'Ingrese el valor unitario'\n        }\n      ],\n      buttons: [\n        {\n          text: 'Cancelar',\n          role: 'cancel',\n          \n        },\n        {\n          text: 'Guardar',\n          handler: (data) => {\n              // console.log(data);\n              data.total = data.cantidad * data.valoru;\n              this.items.push(data);\n              this.calculo();\n          }\n        }\n      ]\n    })\n\n    await info.present();\n  }\n\n  eliminar( idx ) {\n    this.items.splice(idx, 1);\n    this.calculo();\n  }\n\n  calculo() {\n    this.subtotal = 0;\n    this.total = 0;\n    this.iva = 0;\n    let sb = 0;\n    this.items.forEach((item) => {\n      sb = sb + parseFloat(item.total);\n    })\n\n    this.subtotal = sb;\n    if (this.data.iva) {\n      this.iva = this.subtotal * 0.19;\n    }\n    this.total = this.subtotal + this.iva;\n    // // console.log('data de la factura',  this.subtotal, this.total, this.iva, this.data.iva, this.items)\n  }\n\n  async guardar() {\n    if (this.items.length > 0 && this.cliente !== '' && this.cc !== '') {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n      // tslint:disable-next-line:max-line-length\n        this.apiFactura.guardarConfiguracion(info.token, {cliente: this.cliente, direccion: this.direccion, telefono: this.telefono, iva: this.iva, cc: this.cc, ciudad: this.ciudad, subtotal: this.subtotal, total: this.total, lista: this.items, descuento: 0, idconfig: this.data.id}).subscribe((data: any) => {\n          if (data.exe) {\n            this.toast.toastExitoso('Factura creada con éxito');\n            this.modalCtrl.dismiss({\n              exe: true\n            });\n          } else {\n            this.toast.toastError('No se pudo guardar la información de la factura, intentelo mpas tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo guardar la información de la factura, intentelo mpas tarde');\n        })\n      }\n    } else {\n      this.toast.toastError('La información requerida aún esta icompleta, veirifca el nombre del cliente, su cédula y la descripción de la factura');\n    }\n  }\n\n}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"oscuro\">\n        <ion-buttons slot=\"start\">\n            <ion-button (click)=\"cerrar()\">\n                <ion-icon name=\"chevron-back-outline\" slot=\"icon-only\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n        <ion-title>Crear Factura</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <div class=\"cargador\" *ngIf=\"!data\">\n        <ion-spinner name=\"crescent\" color=\"barra\"></ion-spinner>\n        <strong>Cargando la interfaz...</strong>\n    </div>\n\n    <ion-list *ngIf=\"data\">\n        <ion-item color=\"light\">\n            <ion-label>Añadir un nuevo item</ion-label>\n            <ion-buttons slot=\"end\">\n                <ion-button (click)=\"crear()\">\n                    <ion-icon name=\"add-outline\" slot=\"icon-only\"></ion-icon>\n                </ion-button>\n            </ion-buttons>\n        </ion-item>\n\n        <div class=\"divider\"></div>\n        <ion-item-sliding *ngFor=\"let item of items; let i = index;\">\n            <ion-item>\n                <ion-label class=\"ion-text-wrap\">\n                    <div>{{ item.item }}</div>\n                    <div class=\"fl\"><strong>Cantidad: </strong> <span>{{item.cantidad }}</span></div>\n                    <div class=\"fl\"><strong>Valor unitario: </strong> <span>${{ item.valoru | decimales: 'es-CO' }}</span></div>\n                    <div class=\"fl\"><strong>Total: </strong><span> ${{ (item.total | decimales: 'es-CO') }}</span></div>\n                </ion-label>\n            </ion-item>\n            <ion-item-options side=\"end\">\n                <ion-item-option color=\"danger\" (click)=\"eliminar(i)\">\n                    <ion-icon name=\"trash-outline\" slot=\"icon-only\"></ion-icon>\n                </ion-item-option>\n            </ion-item-options>\n        </ion-item-sliding>\n\n        <div class=\"divider\"></div>\n\n        <div class=\"td\">\n            <div class=\"valores\" *ngIf=\"items.length > 0\">\n                <h3><strong class=\"verdei\">Subtotal: </strong> <span>${{ subtotal | decimales: 'es-CO' }}</span></h3>\n            </div>\n            <div class=\"valores\" *ngIf=\"items.length > 0 && data.iva\">\n                <h3><strong class=\"rojoi\">Iva: </strong> <span>${{ iva | decimales: 'es-CO' }}</span></h3>\n            </div>\n            <div class=\"valores\" *ngIf=\"items.length > 0\">\n                <h3><strong>Total: </strong> <span>${{ total | decimales: 'es-CO' }}</span></h3>\n            </div>\n        </div>\n\n        <div class=\"divider\"></div>\n        <ion-item mode=\"ios\">\n            <ion-icon slot=\"start\" name=\"alert-circle-outline\" color=\"danger\"></ion-icon>\n            <ion-input type=\"text\" placeholder=\"Nombre del cliente\" [(ngModel)]=\"cliente\"></ion-input>\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-icon slot=\"start\" name=\"alert-circle-outline\" color=\"blanco\"></ion-icon>\n            <ion-input type=\"text\" placeholder=\"Teléfono del cliente\" [(ngModel)]=\"telefono\"></ion-input>\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-icon slot=\"start\" name=\"alert-circle-outline\" color=\"blanco\"></ion-icon>\n            <ion-input type=\"text\" placeholder=\"Dirección del cliente\" [(ngModel)]=\"direccion\"></ion-input>\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-icon slot=\"start\" name=\"alert-circle-outline\" color=\"danger\"></ion-icon>\n            <ion-input type=\"text\" placeholder=\"Cédula o Nit del cliente\" [(ngModel)]=\"cc\"></ion-input>\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-icon slot=\"start\" name=\"alert-circle-outline\" color=\"blanco\"></ion-icon>\n            <ion-input type=\"text\" placeholder=\"Ciudad del cliente\" [(ngModel)]=\"ciudad\"></ion-input>\n        </ion-item>\n\n        <div class=\"divider\"></div>\n        <ion-button mode=\"ios\" color=\"primary\" shape=\"round\" expand=\"block\" (click)=\"guardar()\">CREAR FACTURA</ion-button>\n    </ion-list>\n\n</ion-content>"],"sourceRoot":"webpack:///"}