{"version":3,"sources":["webpack:///src/app/pages/Inventarios/ivtproductos/ivtproductos-routing.module.ts","webpack:///src/app/pages/Inventarios/ivtproductos/ivtproductos.module.ts","webpack:///src/app/pages/Inventarios/ivtproductos/ivtproductos.page.html","webpack:///src/app/pages/Inventarios/ivtproductos/ivtproductos.page.ts","webpack:///src/app/pipes/numeros/decimales.pipe.ts"],"names":["routes","path","component","IVTproductosPageRoutingModule","forChild","imports","exports","IVTproductosPageModule","declarations","IVTproductosPage","modalCtrl","almacenamiento","ivtApi","toast","alertCtrl","ActiveRouter","productos","load","patron","desde","seleccion","mensaje","prod","snapshot","paramMap","get","cargarProductosAgotados","cargarProductosProximos","cargarProductos","event","then","target","complete","catch","infinite","disabled","obtenerToken","info","leerProducto","token","id","subscribe","data","exe","response","toastError","err","create","componentProps","tipo","inventario","modal","present","onWillDismiss","cerrado","producto","i","header","nombre","buttons","role","text","cssClass","handler","eliminarProducto","_id","res","toastExitoso","splice","alert","console","log","detail","value","length","forEach","hoja","push","leerAgotados","leerProximos","cambioFiltro","refrescando","selector","templateUrl","styleUrls","static","DecimalesPipe","locale","Intl","NumberFormat","minimumFractionDigits","format","name"],"mappings":"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","file":"Inventarios-ivtproductos-ivtproductos-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IVTproductosPage } from './ivtproductos.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IVTproductosPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IVTproductosPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IVTproductosPageRoutingModule } from './ivtproductos-routing.module';\n\nimport { IVTproductosPage } from './ivtproductos.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IVTproductosPageRoutingModule\n  ],\n  declarations: [IVTproductosPage]\n})\nexport class IVTproductosPageModule {}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"success\">\n\n        <ion-buttons slot=\"start\">\n            <ion-back-button icon=\"chevron-back-outline\" defaultHref=\"/central/menu/ivt-inicio\"></ion-back-button>\n        </ion-buttons>\n\n        <ion-title>Productos </ion-title>\n\n        <ion-select slot=\"end\" [value]=\"seleccion\" interface=\"popover\" (ionChange)=\"cambioFiltro( $event )\">\n            <ion-select-option value=\"Todos\">Todos</ion-select-option>\n            <ion-select-option value=\"Agotados\">Agotados</ion-select-option>\n            <ion-select-option value=\"Próximos en agotarse\">Próximos en agotarse</ion-select-option>\n\n        </ion-select>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"refrescando($event)\" pullFactor=\"0.5\" pullMin=\"50\" pullMax=\"150\">\n        <ion-refresher-content pullingIcon=\"arrow-dropdown\" refreshingSpinner=\"circles\">\n        </ion-refresher-content>\n    </ion-refresher>\n\n    <ion-searchbar *ngIf=\"prod\" debounce=\"300\" mode=\"ios\" placeholder=\"Buscar Productos\" (ionChange)=\"buscar($event)\"></ion-searchbar>\n\n    <div class=\"divider light\"></div>\n\n    <div class=\"divider\"></div>\n\n    <div class=\"cen\" *ngIf=\"productos.length === 0 && load\">\n        <img src=\"/assets/Productos.png\" width=\"100px\" alt=\"\">\n        <h3 class=\"tituloGrande\">{{mensaje}}</h3>\n    </div>\n\n    <div class=\"carga\" *ngIf=\"!load\">\n        <ion-list>\n            <ion-item *ngFor=\"let e of [1,1,1,1,1]\">\n                <ion-skeleton-text slot=\"start\" animated style=\"width: 50px; height: 50px\"></ion-skeleton-text>\n                <ion-label>\n                    <ion-skeleton-text animated style=\"width: 50%; height: 20px\"></ion-skeleton-text>\n                    <ion-skeleton-text animated style=\"width: 90%; height: 20px\"></ion-skeleton-text>\n                </ion-label>\n            </ion-item>\n        </ion-list>\n\n    </div>\n    <ion-list *ngIf=\"productos.length > 0\">\n        <ion-item-sliding *ngFor=\"let producto of productos; let i = index;\">\n            <ion-item lines=\"none\">\n                <ion-avatar slot=\"start\">\n                    <img src=\"/assets/Productos.png\" width=\"100%\" heigth=\"100%\">\n                </ion-avatar>\n\n                <ion-label>\n                    <div>{{producto.nombre}}</div>\n                    <div *ngIf=\"producto.codigo\"><strong>Código: </strong> {{producto.codigo}}</div>\n\n\n                    <div><strong>Categoria: </strong> <strong class=\"rojoi\">{{ producto.categoria }}</strong></div>\n\n                    <div class=\"flexbet\"><strong>Existencia:  <span class=\"verdei\">{{ producto.existencia }}</span></strong>\n                        <ion-chip color=\"success\" *ngIf=\"producto.existencia > producto.limite\">AL DIA</ion-chip>\n                        <ion-chip color=\"warning\" *ngIf=\"producto.existencia <= producto.limite && producto.existencia > 0\">SE ESTÁ AGOTANDO</ion-chip>\n                        <ion-chip color=\"danger\" *ngIf=\"producto.existencia === 0\">PRODUCTO AGOTADO</ion-chip>\n                    </div>\n                </ion-label>\n            </ion-item>\n\n            <ion-item-options side=\"end\">\n                <ion-item-option color=\"warning\" (click)=\"editar( producto )\">\n                    <ion-icon slot=\"icon-only\" name=\"pencil-outline\"></ion-icon>\n                </ion-item-option>\n\n                <ion-item-option color=\"danger\" (click)=\"eliminar( producto, i )\">\n                    <ion-icon slot=\"icon-only\" name=\"trash-outline\"></ion-icon>\n                </ion-item-option>\n            </ion-item-options>\n        </ion-item-sliding>\n    </ion-list>\n\n    <ion-infinite-scroll *ngIf=\"load\" #inifinito threshold=\"100px\" (ionInfinite)=\"loadData($event)\">\n        <ion-infinite-scroll-content loadingSpinner=\"bubbles\" loadingText=\"Cargando Hojas de Vida...\">\n        </ion-infinite-scroll-content>\n    </ion-infinite-scroll>\n\n\n    <ion-fab vertical=\"bottom\" horizontal=\"end\" slot=\"fixed\">\n        <ion-fab-button color=\"success\" (click)=\"modal()\">\n            <ion-icon name=\"add-outline\"></ion-icon>\n        </ion-fab-button>\n    </ion-fab>\n</ion-content>","import { Component, OnInit, ViewChild } from '@angular/core';\nimport { ModalController, AlertController, IonInfiniteScroll } from '@ionic/angular';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { InventariosService } from 'src/app/providers/Api/Inventarios.service';\nimport { ToastServices } from 'src/app/providers/Utilidades/ToastService.service';\nimport { IvtModalPage } from '../ivt-modal/ivt-modal.page';\nimport { ActivatedRoute } from '@angular/router';\n\n@Component({\n  selector: 'app-ivtproductos',\n  templateUrl: './ivtproductos.page.html',\n  styleUrls: ['./ivtproductos.page.scss'],\n})\nexport class IVTproductosPage implements OnInit {\n  productos = [];\n  load = false;\n\n  patron = '';\n  desde = 0;\n\n  seleccion = 'Todos';\n  mensaje = 'No hay productos registrados';\n  prod = true;\n  @ViewChild('inifinito', {static: false}) infinite: IonInfiniteScroll;\n  constructor(\n    private modalCtrl: ModalController,\n    private almacenamiento: InicioService,\n    private ivtApi: InventariosService,\n    private toast: ToastServices,\n    private alertCtrl: AlertController,\n    private ActiveRouter: ActivatedRoute\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    if (this.ActiveRouter.snapshot.paramMap.get('modal') === 'agotados') {\n      this.seleccion = 'Agotados';\n      this.cargarProductosAgotados();\n    } else if (this.ActiveRouter.snapshot.paramMap.get('modal') === 'proximos') {\n      this.seleccion = 'Próximos en agotarse';\n      this.cargarProductosProximos();\n    } else {\n      this.cargarProductos();\n    }\n    \n  }\n\n  refrescando( event ) {\n    this.cargarProductos().then(() => {\n      event.target.complete();\n    }).catch(() => event.target.complete());\n  }\n\n\n  async cargarProductos() {\n    this.desde = 0;\n    if (this.load) {\n      \n      this.infinite.disabled = false;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.ivtApi.leerProducto(info.token, {desde: this.desde, id: this.ActiveRouter.snapshot.paramMap.get('id') } ).subscribe((data: any) => {\n        if (data.exe) {\n            this.productos = data.response;\n        } else {\n          this.toast.toastError('No se pudo cargar los datos, intentelo más tarde');\n        }\n        this.load = true;\n      }, (err) => {\n          this.toast.toastError('No se pudo cargar los datos, intentelo más tarde');\n      })\n    }\n}\n\n  async modal() {\n    const modal = await this.modalCtrl.create({\n      component: IvtModalPage,\n      componentProps: {\n        tipo: 'productos',\n        inventario: this.ActiveRouter.snapshot.paramMap.get('id')\n      },\n    });\n\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n\n    if (cerrado.data) {\n      if (cerrado.data.exe) {\n        this.cargarProductos();\n      }\n    }\n  }\n\n\n\n  async editar( producto ) {\n    const modal = await this.modalCtrl.create({\n      component: IvtModalPage,\n      componentProps: {\n        tipo: 'editarproductos',\n        producto\n      },\n    });\n\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n\n    if (cerrado.data) {\n      if (cerrado.data.exe) {\n        this.cargarProductos();\n      }\n    }\n  }\n\n  async eliminar ( producto: any, i ) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n       const alert = await this.alertCtrl.create({\n         header: `Eliminar Producto: ${producto.nombre}`,\n         buttons: [\n           {\n             role: 'cancel',\n             text: 'Cancelar'\n           },\n           {\n             text: 'Eliminar',\n             cssClass: 'rojoi',\n             handler: () => {\n                // tslint:disable-next-line:max-line-length\n                this.ivtApi.eliminarProducto(info.token, producto._id).subscribe((res: any) => {\n                    \n                  if ( res.exe ) {\n                    this.toast.toastExitoso('Producto eliminado!');\n                    this.productos.splice(i, 1);\n                  } else {\n                    this.toast.toastError('No se pudo eliminar el producto, intentelo más tarde');\n                  }\n                }, (err) => {\n                  this.toast.toastError('No se pudo eliminar el proveedor, intentelo más tarde');\n                })\n             }\n           }\n         ]\n       })\n\n       await alert.present();\n    }\n  }\n\n  async buscar(event) {\n    console.log(event.detail, 'epale');\n    \n    if ( event.detail.value !== '') {\n      this.desde = 0;\n      this.infinite.disabled = false;\n      this.patron = event.detail.value;\n\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info ) {\n        this.ivtApi.leerProducto(info.token, {desde: this.desde, id: this.ActiveRouter.snapshot.paramMap.get('id'), patron: this.patron }).subscribe((data: any) => {\n          console.log(data, 'mi data');\n          if ( data.exe ){\n            this.productos = data.response;\n            if ( data.response.length === 0) {\n              this.desde = 0;\n            }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n    } else {\n      this.desde = 0;\n      \n      console.log(this.infinite.disabled)\n      this.cargarProductos();\n    }\n  }\n\n  async loadData( event ) {\n    // event.target.complete()\n    this.desde = this.desde + 5;\n\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      if ( this.patron === '') {\n        this.ivtApi.leerProducto(info.token, {desde: this.desde, id: this.ActiveRouter.snapshot.paramMap.get('id') }).subscribe((data: any) => {\n          console.log(data);\n          if (data.exe) {\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.productos.push(hoja);\n              })\n              event.target.complete();\n             } else {\n              event.target.disabled = true;\n              this.desde = 0;\n             }\n          } else {\n            this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo traer las hojas de vida, inténtelo más tarde.');\n        })\n      } else {\n        // tslint:disable-next-line:max-line-length\n        console.log(this.desde, 'pli');\n        this.ivtApi.leerProducto(info.token, {desde: this.desde, id: this.ActiveRouter.snapshot.paramMap.get('id') }).subscribe((data: any) => {\n          console.log(data, 'mi data 2', this.desde);\n          if ( data.exe ){\n            if ( data.response.length > 0  ) {\n              data.response.forEach((hoja) => {\n                this.productos.push(hoja);\n              })\n              event.target.complete();\n           } else {\n            event.target.disabled = true;\n            this.desde = 0;\n           }\n          } else {\n            this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo realizar la búsqueda, intentelo más tarde');\n        })\n      }\n      \n      \n    }\n    }\n\n    cambioFiltro( event ) {\n      this.seleccion = event.detail.value;\n\n      if (this.seleccion === 'Todos') {\n        this.prod = true;\n        this.cargarProductos();\n      } else if (this.seleccion === 'Agotados') {\n        this.prod = false;\n        this.cargarProductosAgotados();\n      } else if (this.seleccion === 'Próximos en agotarse') {\n        this.prod = false;\n        this.cargarProductosProximos();\n      }\n    }\n\n\n    async cargarProductosAgotados() {\n      \n      const info = await this.almacenamiento.obtenerToken();\n  \n      if ( info ) {\n        this.ivtApi.leerAgotados(info.token, {_id: this.ActiveRouter.snapshot.paramMap.get('id') } ).subscribe((data: any) => {\n          console.log(data);\n          if (data.exe) {\n            if (data.response.length === 0) {\n              this.mensaje = 'No hay productos agotados';\n            }\n            this.productos = data.response;\n          } else {\n            this.toast.toastError('No se pudo cargar los datos, intentelo más tarde');\n          }\n          this.load = true;\n        }, (err) => {\n            this.toast.toastError('No se pudo cargar los datos, intentelo más tarde');\n        })\n      }\n  }\n\n\n  async cargarProductosProximos() {\n      \n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.ivtApi.leerProximos(info.token, {_id: this.ActiveRouter.snapshot.paramMap.get('id') } ).subscribe((data: any) => {\n        if (data.exe) {\n          if (data.response.length === 0) {\n            this.mensaje = 'No hay productos próximos para agotarse';\n          }\n          this.productos = data.response;\n        } else {\n          this.toast.toastError('No se pudo cargar los datos v2, intentelo más tarde');\n        }\n        this.load = true;\n      }, (err) => {\n          this.toast.toastError('No se pudo cargar los datos, intentelo más tarde');\n      })\n    }\n}\n  \n    \n\n}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'decimales'\n})\nexport class DecimalesPipe implements PipeTransform {\n\n  transform(value: number, locale: string): any {\n    if (value === 0) {\n      return 0\n    } else {\n      return new Intl.NumberFormat(locale, {\n        minimumFractionDigits: 1\n      }).format(value);\n    }\n  }\n\n}\n"]}