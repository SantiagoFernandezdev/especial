{"version":3,"sources":["webpack:///src/app/Pages/Santiago/historias-modal/historias-modal-routing.module.ts","webpack:///src/app/Pages/Santiago/historias-modal/historias-modal.module.ts","webpack:///src/app/Pages/Santiago/historias-modal/historias-modal.page.html","webpack:///src/app/Pages/Santiago/historias-modal/historias-modal.page.ts","webpack:///src/app/providers/Api/IGTM.service.ts"],"names":["routes","path","component","HistoriasModalPageRoutingModule","forChild","imports","exports","HistoriasModalPageModule","declarations","HistoriasModalPage","modalCtrl","statusbar","router","almacenamiento","IGTMApi","toast","ht","slideopts","grabCursor","cubeEffect","shadow","slideShadows","shadowOffset","shadowScale","on","beforeInit","swiper","classNames","push","params","containerModifierClass","overwriteParams","slidesPerView","slidesPerColumn","slidesPerGroup","watchSlidesProgress","resistanceRatio","spaceBetween","centeredSlides","virtualTranslate","Object","assign","originalParams","setTranslate","$el","$wrapperEl","slides","swiperWidth","width","swiperHeight","height","rtl","rtlTranslate","swiperSize","size","isHorizontal","isVirtual","virtual","enabled","wrapperRotate","$cubeShadowEl","find","length","$","append","css","i","$slideEl","eq","slideIndex","parseInt","attr","slideAngle","round","Math","floor","progress","max","min","tx","ty","tz","transform$$1","transform","shadowBefore","shadowAfter","style","opacity","shadowAngle","abs","multiplier","sin","PI","cos","scale1","scale2","offset$$1","zFactor","browser","isSafari","isUiWebView","setTransition","duration","transition","opt","direction","historiasbase","estilos","cargo","historias","console","log","info","miSlide","slideTo","idx","then","slide","getActiveIndex","vistos","_id","ind","id","obtenerToken","token","subscribe","data","err","dismiss","histo","num","historia","tipo","a","etiqueta","u","navigate","selector","templateUrl","styleUrls","static","IGTMService","http","MmyTransfer","error","intento","pipe","errorHttp","ErrorEvent","Error","status","patron","httpHeader","headers","put","hanflerError","post","imagen","final","cont","name","mime","options","fileKey","fileName","mimeType","httpMethod","fileTransfer","create","upload","providedIn"],"mappings":"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","file":"Pages-Santiago-historias-modal-historias-modal-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoriasModalPage } from './historias-modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoriasModalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoriasModalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoriasModalPageRoutingModule } from './historias-modal-routing.module';\n\nimport { HistoriasModalPage } from './historias-modal.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoriasModalPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [HistoriasModalPage]\n})\nexport class HistoriasModalPageModule {}\n","<ion-content color=\"darkgold\">\n    <ion-slides #miSlide *ngIf=\"cargo\" [options]=\"slideopts\" (ionSlideWillChange)=\"rotar()\">\n        <ion-slide class=\"red\" *ngFor=\"let historia of historiasbase; let i = index;\">\n\n\n            <ion-slides #slide class=\"sl\" [options]=\"opt\" (ionSlideWillChange)=\"rotar()\">\n                <ion-slide *ngFor=\"let ht of historia; let a = index;\" [class.one]=\"historia.length === 1\" style=\"{{ ht | colores }}\">\n                    <div class=\"encabezado\">\n                        <div class=\"data\">\n                            <ion-avatar>\n                                <img src=\"{{historia[0].image}}\" alt=\"\">\n                            </ion-avatar>\n                            <div class=\"titulo\">\n                                <span>{{ info.nombre }}</span> <br>\n                                <strong>@{{ info.usuario }}</strong>\n                            </div>\n                        </div>\n                        <h1 (click)=\"cerrar()\">x</h1>\n                    </div>\n                    <div class=\"texto\" *ngIf=\"ht.tipo === 'dibujar'\">\n                        <h3>{{ ht.dibujo.texto }}</h3>\n                    </div>\n\n                    <img *ngIf=\"ht.tipo === 'multimedia'\" src=\"https://www.motocaliapp.com/11927613401/{{ht.archivos[0].ruta}}\" alt=\"\">\n\n                    <div class=\"pie\" *ngIf=\"ht.comentario !== '' || ht.etiquetas.length > 0\">\n                        <div class=\"data\" (click)=\"abrir(i, a)\">\n                            Ver más...\n                        </div>\n                    </div>\n\n                    <div *ngIf=\"ht.etiqueta\" class=\"etiquetados\">\n\n                        <div class=\"dataa\">\n                            <div class=\"cerrarr\" (click)=\"cerrar2(i, a)\">x</div>\n                            <div class=\"com\">{{ ht.comentario }}</div>\n                            <ion-list *ngIf=\"ht.etiquetas.length > 0\">\n                                <ion-item-divider class=\"cc\">Usuarios etiquetados</ion-item-divider>\n                                <ion-item color=\"oscuro\" *ngFor=\"let persona of ht.etiquetas\" (click)=\"perfilNavegar(persona.nombreusuario)\">\n                                    <ion-avatar slot=\"start\">\n                                        <img src=\"https://www.motocaliapp.com/{{persona.imagen[0].path}}\">\n                                    </ion-avatar>\n                                    <ion-label>\n                                        <div>{{persona.nombrecompleto}}</div>\n                                        <strong>@{{persona.nombreusuario}}</strong>\n                                    </ion-label>\n                                </ion-item>\n                            </ion-list>\n                        </div>\n                    </div>\n                </ion-slide>\n            </ion-slides>\n\n\n        </ion-slide>\n    </ion-slides>\n\n</ion-content>","import { Component, Input, OnInit, ViewChildren, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController, IonSlides } from '@ionic/angular';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { IGTMService } from '../../../providers/Api/IGTM.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-historias-modal',\n  templateUrl: './historias-modal.page.html',\n  styleUrls: ['./historias-modal.page.scss'],\n})\nexport class HistoriasModalPage implements OnInit {\n  ht = ['fsdf', 'asdfasf', 'asfas'];\n\n  slideopts = {\n    grabCursor: true,\n    cubeEffect: {\n      shadow: true,\n      slideShadows: true,\n      shadowOffset: 20,\n      shadowScale: 0.94,\n    },\n    on: {\n      beforeInit: function() {\n        const swiper = this;\n        swiper.classNames.push(`${swiper.params.containerModifierClass}cube`);\n        swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n  \n        const overwriteParams = {\n          slidesPerView: 1,\n          slidesPerColumn: 1,\n          slidesPerGroup: 1,\n          watchSlidesProgress: true,\n          resistanceRatio: 0,\n          spaceBetween: 0,\n          centeredSlides: false,\n          virtualTranslate: true,\n        };\n  \n        this.params = Object.assign(this.params, overwriteParams);\n        this.originalParams = Object.assign(this.originalParams, overwriteParams);\n      },\n      setTranslate: function() {\n        const swiper = this;\n        const {\n          $el, $wrapperEl, slides, width: swiperWidth, height: swiperHeight, rtlTranslate: rtl, size: swiperSize,\n        } = swiper;\n        const params = swiper.params.cubeEffect;\n        const isHorizontal = swiper.isHorizontal();\n        const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n        let wrapperRotate = 0;\n        let $cubeShadowEl;\n        if (params.shadow) {\n          if (isHorizontal) {\n            $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n            if ($cubeShadowEl.length === 0) {\n              $cubeShadowEl = swiper.$('<div class=\"swiper-cube-shadow\"></div>');\n              $wrapperEl.append($cubeShadowEl);\n            }\n            $cubeShadowEl.css({ height: `${swiperWidth}px` });\n          } else {\n            $cubeShadowEl = $el.find('.swiper-cube-shadow');\n            if ($cubeShadowEl.length === 0) {\n              $cubeShadowEl = swiper.$('<div class=\"swiper-cube-shadow\"></div>');\n              $el.append($cubeShadowEl);\n            }\n          }\n        }\n  \n        for (let i = 0; i < slides.length; i += 1) {\n          const $slideEl = slides.eq(i);\n          let slideIndex = i;\n          if (isVirtual) {\n            slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n          }\n          let slideAngle = slideIndex * 90;\n          let round = Math.floor(slideAngle / 360);\n          if (rtl) {\n            slideAngle = -slideAngle;\n            round = Math.floor(-slideAngle / 360);\n          }\n          const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n          let tx = 0;\n          let ty = 0;\n          let tz = 0;\n          if (slideIndex % 4 === 0) {\n            tx = -round * 4 * swiperSize;\n            tz = 0;\n          } else if ((slideIndex - 1) % 4 === 0) {\n            tx = 0;\n            tz = -round * 4 * swiperSize;\n          } else if ((slideIndex - 2) % 4 === 0) {\n            tx = swiperSize + (round * 4 * swiperSize);\n            tz = swiperSize;\n          } else if ((slideIndex - 3) % 4 === 0) {\n            tx = -swiperSize;\n            tz = (3 * swiperSize) + (swiperSize * 4 * round);\n          }\n          if (rtl) {\n            tx = -tx;\n          }\n  \n           if (!isHorizontal) {\n            ty = tx;\n            tx = 0;\n          }\n  \n           const transform$$1 = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n          if (progress <= 1 && progress > -1) {\n            wrapperRotate = (slideIndex * 90) + (progress * 90);\n            if (rtl) wrapperRotate = (-slideIndex * 90) - (progress * 90);\n          }\n          $slideEl.transform(transform$$1);\n          if (params.slideShadows) {\n            // Set shadows\n            let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n            let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n            if (shadowBefore.length === 0) {\n              shadowBefore = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n              $slideEl.append(shadowBefore);\n            }\n            if (shadowAfter.length === 0) {\n              shadowAfter = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n              $slideEl.append(shadowAfter);\n            }\n            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n          }\n        }\n        $wrapperEl.css({\n          '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          '-moz-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          '-ms-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          'transform-origin': `50% 50% -${swiperSize / 2}px`,\n        });\n  \n         if (params.shadow) {\n          if (isHorizontal) {\n            $cubeShadowEl.transform(`translate3d(0px, ${(swiperWidth / 2) + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n          } else {\n            const shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);\n            const multiplier = 1.5 - (\n              (Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2)\n              + (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2)\n            );\n            const scale1 = params.shadowScale;\n            const scale2 = params.shadowScale / multiplier;\n            const offset$$1 = params.shadowOffset;\n            $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${(swiperHeight / 2) + offset$$1}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n          }\n        }\n  \n        const zFactor = (swiper.browser.isSafari || swiper.browser.isUiWebView) ? (-swiperSize / 2) : 0;\n        $wrapperEl\n          .transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n      },\n      setTransition: function(duration) {\n        const swiper = this;\n        const { $el, slides } = swiper;\n        slides\n          .transition(duration)\n          .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n          .transition(duration);\n        if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n          $el.find('.swiper-cube-shadow').transition(duration);\n        }\n      },\n    }\n  }\n\n  opt =  {\n    direction: 'vertical'\n  }\n\n  @Input() info;\n  @Input() historias;\n\n  historiasbase = [];\n\n  estilos = '';\n  cargo = true;\n  \n  \n\n  @ViewChild('slide', {static: false})  slide: IonSlides;\n  @ViewChild('miSlide', {static: false})  miSlide: IonSlides;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private statusbar: StatusBar,\n    private router: Router,\n    private almacenamiento: InicioService,\n    private IGTMApi: IGTMService,\n    private toast: ToastServices,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.historiasbase = this.historias;\n    console.log(this.historias, this.info);\n    this.miSlide.slideTo(this.info.idx, 0).then(() => {\n      console.log('VIajando')\n      this.slide.getActiveIndex().then((idx) => {\n        this.vistos(this.historiasbase[this.info.idx][idx]._id);\n      })\n    })\n  }\n\n  rotar() {\n    this.miSlide.getActiveIndex().then((ind) => {\n      console.log('VIajando')\n      this.slide.getActiveIndex().then((idx) => {\n        console.log(ind, idx)\n        this.vistos(this.historiasbase[ind][idx]._id);\n      })\n    })\n  }\n\n  async vistos(id) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.IGTMApi.vistos(info.token, {id: id}).subscribe((data: any) => {\n        console.log(data, 'vistos', id)\n      }, (err) => {\n        \n      })\n    }\n  }\n\n  cerrar() {\n    this.modalCtrl.dismiss()\n    this.historias = [];\n    this.info = {};\n  }\n\n  cambio( histo, idx ) {\n    this.slide.getActiveIndex().then((num) => {\n      let historia = this.historias[idx];\n\n      console.log(historia);\n\n      if (historia[num].tipo === 'dibujar') {\n       // this.statusbar.backgroundColorByHexString(historia[num].dibujo.fondo);\n      } else {\n      //  this.statusbar.backgroundColorByHexString('#273238');\n      }\n    })\n  }\n\n  ver ( histo ) {\n    if (histo.tipo === 'dibujar') {\n   //   this.statusbar.backgroundColorByHexString(histo.dibujo.fondo);\n    } else {\n     // this.statusbar.backgroundColorByHexString('#273238');\n    }\n  }\n\n  abrir(i, a) {\n\n    this.historias[i][a].etiqueta = true;\n\n\n  }\n\ncerrar2(i, a) {\n\n    this.historias[i][a].etiqueta = false;\n\n\n  }\n\n  perfilNavegar(u) {\n    this.modalCtrl.dismiss();\n    this.router.navigate(['/visita/', u, 's'])\n  }\n\n  ionViewWillLeave() {\n   // this.statusbar.backgroundColorByHexString('#273238');\n  }\n\n}\n","import { Injectable } from '@angular/core';\r\nimport { URL_SERVER } from '../../../environments/environment';\r\nimport { HttpClient, HttpHeaders, HttpErrorResponse } from '@angular/common/http';\r\nimport { map, retryWhen, delayWhen, take, catchError } from 'rxjs/operators';\r\nimport { timer, Observable, from } from 'rxjs';\r\nimport { FileTransferObject, FileTransfer, FileUploadOptions } from '@ionic-native/file-transfer/ngx';\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\n\r\nexport class IGTMService {\r\n\r\n    constructor(private http: HttpClient, private MmyTransfer: FileTransfer) { }\r\n\r\n    private hanflerError(error: Observable<any>) {\r\n\r\n            let intento = 0;\r\n\r\n            return error.pipe(\r\n                delayWhen(() => timer(3000)),\r\n                map((errorHttp: HttpErrorResponse) => {\r\n\r\n                        console.log('Entramos a intentos');\r\n                        if (errorHttp instanceof ErrorEvent) {\r\n                            throw new Error('Error de Red');\r\n                        } else {\r\n\r\n                            if ( errorHttp.status === 404) {\r\n                               throw new Error(' Página no encontrada');\r\n                            } else {\r\n                               // throw new Error(' No se pudo realizar la conexión, comprueba tu red ');\r\n                            }\r\n                           \r\n                        }\r\n                }),\r\n                take(3)\r\n            );\r\n    }\r\n\r\n  \r\n\r\n    BuscarUsuarios(token: any, patron) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/empleados/buscar/`, {patron}, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    crearPublicacion(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/igtm/crear/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    leerPublicacion(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/leer/`, {}, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    leerPublicacionUsuario(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/leer/usuario`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    subirArchivosChat(token, id, imagen, final, cont, historia: any, name?, mime?) {\r\n        console.log('archivo', imagen)\r\n        const options: FileUploadOptions = {\r\n            fileKey: 'archivo',\r\n            fileName: name,\r\n            mimeType: mime,\r\n            httpMethod: 'POST',\r\n            headers: {\r\n                'x-token': token,\r\n                'x-idpublicacion': id,\r\n                'x-final': final,\r\n                'x-cont': cont,\r\n                'x-historia': historia\r\n            }\r\n        }\r\n\r\n        const fileTransfer: FileTransferObject = this.MmyTransfer.create();\r\n\r\n        return from(fileTransfer.upload(imagen, `${URL_SERVER}/igtm/upload`, options)).pipe(\r\n            catchError(error => {\r\n                console.log(`No se pudo subir la imagen `, error);\r\n                throw new Error(`No se pudo subir la imagen `);\r\n            })\r\n        )\r\n        \r\n    }\r\n\r\n    leerFotos(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/fotos/leer/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n     vistos(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/igtm/historias/vistos/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    meGusta(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/megusta/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    saber(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/publicacion/seguidos/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    saberHistorias(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/historias/seguidos/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n\r\n    leerUna(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.put(`${URL_SERVER}/igtm/leer/uno/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    crearComentario(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/igtm/comentarios/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    crearCompartida(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/igtm/compartir/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    crearGuardado(token: any, data) {\r\n        const httpHeader = {\r\n            headers: new HttpHeaders({\r\n                'x-token': token\r\n            })\r\n        };\r\n\r\n        return this.http.post(`${URL_SERVER}/igtm/guardado/`, data, httpHeader).pipe(\r\n            retryWhen(error => this.hanflerError(error))\r\n        );\r\n    }\r\n\r\n    \r\n\r\n}\r\n"]}