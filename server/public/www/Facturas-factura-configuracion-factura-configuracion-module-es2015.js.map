{"version":3,"sources":["./src/app/pages/Facturas/factura-configuracion/factura-configuracion-routing.module.ts","./src/app/pages/Facturas/factura-configuracion/factura-configuracion.module.ts","./src/app/pages/Facturas/factura-configuracion/factura-configuracion.page.ts","./src/app/pages/Facturas/factura-configuracion/factura-configuracion.page.html"],"names":[],"mappings":"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","file":"Facturas-factura-configuracion-factura-configuracion-module-es2015.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacturaConfiguracionPage } from './factura-configuracion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacturaConfiguracionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacturaConfiguracionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacturaConfiguracionPageRoutingModule } from './factura-configuracion-routing.module';\n\nimport { FacturaConfiguracionPage } from './factura-configuracion.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FacturaConfiguracionPageRoutingModule\n  ],\n  declarations: [FacturaConfiguracionPage]\n})\nexport class FacturaConfiguracionPageModule {}\n","import { Component, OnInit } from '@angular/core';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-factura-configuracion',\n  templateUrl: './factura-configuracion.page.html',\n  styleUrls: ['./factura-configuracion.page.scss'],\n})\nexport class FacturaConfiguracionPage implements OnInit {\n\n  nuevo = false;\n  mostrar = false;\n\n  nit = '';\n  direccion = '';\n  regimen = '';\n  titular = '';\n  telefono: '';\n  iva = false;\n  ivaValor = 0;\n  consecutivo = '';\n\n  proceso = false;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private apiFactura: FacturasService,\n    private toast: ToastServices\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.mostrar = false;\n    this.consultar();\n  }\n\n  async consultar() {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n        this.apiFactura.consultarConfiguracion(info.token).subscribe((data: any) => {\n          if (data.exe) {\n            if (!data.response) {\n              this.nuevo = true;\n            } else {\n              console.log(data)\n              this.regimen = data.response.regimen;\n              this.direccion = data.response.direccion;\n              this.titular = data.response.titular;\n              this.nit = data.response.nit;\n              this.iva = data.response.iva;\n              this.ivaValor = data.response.valorIva;\n              this.consecutivo = data.response.consecutivo;\n\n              this.mostrar = true;\n            }\n          } else {\n            this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n        })\n      }\n  }\n\n\n  habilitar() {\n    this.nuevo = false;\n    this.mostrar = true;\n  }\n\n  cambiar( event ) {\n    console.log(event);\n    this.iva = event.detail.checked;\n  }\n\n  regimenc( event ) {\n    this.regimen = event.detail.value;\n  }\n\n  async guardar() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info  ) {\n      // tslint:disable-next-line:max-line-length\n      this.apiFactura.editarConfiguracion(info.token, {regimen: this.regimen, direccion: this.direccion, titular: this.titular, iva: this.iva, nit: this.nit, valorIva: this.ivaValor}).subscribe((data: any) => {\n        if (data.exe) {\n          this.toast.toastExitoso('Configuración actualizada');\n        } else {\n          this.toast.toastError('No se pudo guardar la información de la configuración, intentelo mpas tarde');\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo guardar la información de la configuración, intentelo mpas tarde');\n      })\n    }\n  }\n\n\n}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"oscuro\">\n        <ion-back-button slot=\"start\" icon=\"chevron-back-outline\" defaultHref=\"/central/menu/factura\"></ion-back-button>\n        <ion-title>Configuración</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <div class=\"ion-padding\" *ngIf=\"nuevo\">\n        <ion-button expand=\"block\" mode=\"ios\" color=\"success\" (click)=\"habilitar()\">ABRIR CONFIGURACIÓN</ion-button>\n    </div>\n\n    <ion-list *ngIf=\"mostrar\">\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>NIT DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"nit\"></ion-input>\n        </ion-item>\n\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>DIRECCIÓN DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"direccion\"></ion-input>\n        </ion-item>\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>RÉGIMEN DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-select placeholder=\"Seleccionar\" okText=\"Aceptar\" cancelText=\"Cancelar\" [value]=\"regimen\" (ionChange)=\"regimenc( $event )\">\n                <ion-select-option value=\"Régimen simplificado\">Régimen simplificado</ion-select-option>\n                <ion-select-option value=\"Régimen simplificado\">Régimen común</ion-select-option>\n            </ion-select>\n        </ion-item>\n\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>TITULAR DE LA EMPRESA (OPCIONAL)</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"titular\"></ion-input>\n        </ion-item>\n\n        <ion-item class=\"sinfondo\" lines=\"none\" mode=\"ios\">\n            <ion-label>\n                <div class=\"flexbet\">\n                    CONSECUTIVO <strong>{{ consecutivo }}</strong>\n                </div>\n            </ion-label>\n        </ion-item>\n\n        <ion-item lines=\"none\" mode=\"ios\" color=\"light\">\n            <ion-label>HABILITAR IVA</ion-label>\n            <ion-toggle [checked]=\"iva\" slot=\"end\" color=\"success\" mode=\"ios\" (ionChange)=\"cambiar( $event )\"></ion-toggle>\n\n        </ion-item> <br>\n\n        <ion-item *ngIf=\"iva\" lines=\"none\" mode=\"ios\">\n            <ion-label>PORCENTAJE DEL IVA</ion-label>\n\n        </ion-item>\n        <ion-item *ngIf=\"iva\" mode=\"ios\">\n            <ion-input type=\"number\" placeholder=\"Escribir\" [(ngModel)]=\"ivaValor\"></ion-input>\n        </ion-item> <br>\n\n        <ion-button expand=\"block\" mode=\"ios\" color=\"secondary\" (click)=\"guardar()\">GUDARDAR CONFIGURACIÓN</ion-button>\n    </ion-list>\n\n\n\n</ion-content>"],"sourceRoot":"webpack:///"}