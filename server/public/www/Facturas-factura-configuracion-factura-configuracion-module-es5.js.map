{"version":3,"sources":["webpack:///src/app/pages/Facturas/factura-configuracion/factura-configuracion-routing.module.ts","webpack:///src/app/pages/Facturas/factura-configuracion/factura-configuracion.module.ts","webpack:///src/app/pages/Facturas/factura-configuracion/factura-configuracion.page.html","webpack:///src/app/pages/Facturas/factura-configuracion/factura-configuracion.page.ts"],"names":["routes","path","component","FacturaConfiguracionPageRoutingModule","forChild","imports","exports","FacturaConfiguracionPageModule","declarations","FacturaConfiguracionPage","almacenamiento","apiFactura","toast","nuevo","mostrar","nit","direccion","regimen","titular","iva","ivaValor","consecutivo","proceso","consultar","obtenerToken","info","consultarConfiguracion","token","subscribe","data","exe","response","console","log","valorIva","toastError","err","event","detail","checked","value","editarConfiguracion","toastExitoso","selector","templateUrl","styleUrls"],"mappings":"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","file":"Facturas-factura-configuracion-factura-configuracion-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { FacturaConfiguracionPage } from './factura-configuracion.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: FacturaConfiguracionPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FacturaConfiguracionPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { FacturaConfiguracionPageRoutingModule } from './factura-configuracion-routing.module';\n\nimport { FacturaConfiguracionPage } from './factura-configuracion.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    FacturaConfiguracionPageRoutingModule\n  ],\n  declarations: [FacturaConfiguracionPage]\n})\nexport class FacturaConfiguracionPageModule {}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar color=\"oscuro\">\n        <ion-back-button slot=\"start\" icon=\"chevron-back-outline\" defaultHref=\"/central/menu/factura\"></ion-back-button>\n        <ion-title>Configuración</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content>\n\n    <div class=\"ion-padding\" *ngIf=\"nuevo\">\n        <ion-button expand=\"block\" mode=\"ios\" color=\"success\" (click)=\"habilitar()\">ABRIR CONFIGURACIÓN</ion-button>\n    </div>\n\n    <ion-list *ngIf=\"mostrar\">\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>NIT DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"nit\"></ion-input>\n        </ion-item>\n\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>DIRECCIÓN DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"direccion\"></ion-input>\n        </ion-item>\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>RÉGIMEN DE LA EMPRESA</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-select placeholder=\"Seleccionar\" okText=\"Aceptar\" cancelText=\"Cancelar\" [value]=\"regimen\" (ionChange)=\"regimenc( $event )\">\n                <ion-select-option value=\"Régimen simplificado\">Régimen simplificado</ion-select-option>\n                <ion-select-option value=\"Régimen simplificado\">Régimen común</ion-select-option>\n            </ion-select>\n        </ion-item>\n\n\n        <ion-item lines=\"none\" mode=\"ios\">\n            <ion-label>TITULAR DE LA EMPRESA (OPCIONAL)</ion-label>\n\n        </ion-item>\n        <ion-item mode=\"ios\">\n            <ion-input placeholder=\"Escribir\" [(ngModel)]=\"titular\"></ion-input>\n        </ion-item>\n\n        <ion-item class=\"sinfondo\" lines=\"none\" mode=\"ios\">\n            <ion-label>\n                <div class=\"flexbet\">\n                    CONSECUTIVO <strong>{{ consecutivo }}</strong>\n                </div>\n            </ion-label>\n        </ion-item>\n\n        <ion-item lines=\"none\" mode=\"ios\" color=\"light\">\n            <ion-label>HABILITAR IVA</ion-label>\n            <ion-toggle [checked]=\"iva\" slot=\"end\" color=\"success\" mode=\"ios\" (ionChange)=\"cambiar( $event )\"></ion-toggle>\n\n        </ion-item> <br>\n\n        <ion-item *ngIf=\"iva\" lines=\"none\" mode=\"ios\">\n            <ion-label>PORCENTAJE DEL IVA</ion-label>\n\n        </ion-item>\n        <ion-item *ngIf=\"iva\" mode=\"ios\">\n            <ion-input type=\"number\" placeholder=\"Escribir\" [(ngModel)]=\"ivaValor\"></ion-input>\n        </ion-item> <br>\n\n        <ion-button expand=\"block\" mode=\"ios\" color=\"secondary\" (click)=\"guardar()\">GUDARDAR CONFIGURACIÓN</ion-button>\n    </ion-list>\n\n\n\n</ion-content>","import { Component, OnInit } from '@angular/core';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { FacturasService } from '../../../providers/Api/Facturas.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-factura-configuracion',\n  templateUrl: './factura-configuracion.page.html',\n  styleUrls: ['./factura-configuracion.page.scss'],\n})\nexport class FacturaConfiguracionPage implements OnInit {\n\n  nuevo = false;\n  mostrar = false;\n\n  nit = '';\n  direccion = '';\n  regimen = '';\n  titular = '';\n  telefono: '';\n  iva = false;\n  ivaValor = 0;\n  consecutivo = '';\n\n  proceso = false;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private apiFactura: FacturasService,\n    private toast: ToastServices\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.mostrar = false;\n    this.consultar();\n  }\n\n  async consultar() {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info  ) {\n        this.apiFactura.consultarConfiguracion(info.token).subscribe((data: any) => {\n          if (data.exe) {\n            if (!data.response) {\n              this.nuevo = true;\n            } else {\n              console.log(data)\n              this.regimen = data.response.regimen;\n              this.direccion = data.response.direccion;\n              this.titular = data.response.titular;\n              this.nit = data.response.nit;\n              this.iva = data.response.iva;\n              this.ivaValor = data.response.valorIva;\n              this.consecutivo = data.response.consecutivo;\n\n              this.mostrar = true;\n            }\n          } else {\n            this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo consultar la información de la configuración, intentelo mpas tarde');\n        })\n      }\n  }\n\n\n  habilitar() {\n    this.nuevo = false;\n    this.mostrar = true;\n  }\n\n  cambiar( event ) {\n    console.log(event);\n    this.iva = event.detail.checked;\n  }\n\n  regimenc( event ) {\n    this.regimen = event.detail.value;\n  }\n\n  async guardar() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info  ) {\n      // tslint:disable-next-line:max-line-length\n      this.apiFactura.editarConfiguracion(info.token, {regimen: this.regimen, direccion: this.direccion, titular: this.titular, iva: this.iva, nit: this.nit, valorIva: this.ivaValor}).subscribe((data: any) => {\n        if (data.exe) {\n          this.toast.toastExitoso('Configuración actualizada');\n        } else {\n          this.toast.toastError('No se pudo guardar la información de la configuración, intentelo mpas tarde');\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo guardar la información de la configuración, intentelo mpas tarde');\n      })\n    }\n  }\n\n\n}\n"]}