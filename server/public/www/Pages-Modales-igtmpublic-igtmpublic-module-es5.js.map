{"version":3,"sources":["webpack:///src/app/Pages/Modales/igtmpublic/igtmpublic-routing.module.ts","webpack:///src/app/Pages/Modales/igtmpublic/igtmpublic.module.ts","webpack:///src/app/Pages/Modales/igtmpublic/igtmpublic.page.html","webpack:///src/app/Pages/Modales/igtmpublic/igtmpublic.page.ts"],"names":["routes","path","component","IgtmpublicPageRoutingModule","forChild","imports","exports","IgtmpublicPageModule","entryComponents","declarations","IgtmpublicPage","IGTMApi","almacenamiento","activeRoute","modalCtrl","statusbar","toast","socket","router","publicaciones","cargadentro","click","cargaTodo","iniciar","obtenerToken","info","leerUna","token","id","snapshot","paramMap","get","subscribe","data","console","log","exe","response","guardado","creador","imagen","length","image","creadororiginal","cog","imageori","Promise","resolve","reject","leerFotos","_id","res","archivos","pager","err","crearGuardado","publicacion","tipo","meGusta","find","itemmg","megusta","valormg","crearComentario","comentarios","msg","push","create","componentProps","publicacionc","modal","present","onWillDismiss","cerrado","show","recargo","contenido","scrollToTop","i","toastNotificacion","toastError","indice","parseFloat","emit","mensaje","nusuario","etiquetados","usuario","nombreusuario","navigate","selector","templateUrl","styleUrls","static"],"mappings":"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","file":"Pages-Modales-igtmpublic-igtmpublic-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { IgtmpublicPage } from './igtmpublic.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: IgtmpublicPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class IgtmpublicPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { IgtmpublicPageRoutingModule } from './igtmpublic-routing.module';\n\nimport { IgtmpublicPage } from './igtmpublic.page';\nimport { IgtmplantillaPage } from '../igtmplantilla/igtmplantilla.page';\nimport { IgtmplantillaPageModule } from '../igtmplantilla/igtmplantilla.module';\n\n@NgModule({\n  entryComponents: [\n    IgtmplantillaPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    IgtmpublicPageRoutingModule,\n    IgtmplantillaPageModule\n  ],\n  declarations: [IgtmpublicPage]\n})\nexport class IgtmpublicPageModule {}\n","<ion-header class=\"ion-no-border\">\n    <ion-toolbar>\n        <ion-buttons slot=\"start\">\n            <ion-back-button icon=\"chevron-back-outline\" defaultHref=\"central/iniciosan\"></ion-back-button>\n        </ion-buttons>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content [fullscreen]=\"true\" #contenido>\n\n    <div *ngIf=\"!cargaTodo\">\n        <div class=\"skt\" *ngFor=\"let kl of [1,1]\">\n            <ion-item lines=\"none\" class=\"sinfondo\">\n                <ion-avatar slot=\"start\">\n                    <ion-skeleton-text animated width=\"100%\" height=\"100%\"></ion-skeleton-text>\n                </ion-avatar>\n                <ion-label>\n                    <ion-skeleton-text animated width=\"100%\" height=\"30px\"></ion-skeleton-text>\n                    <ion-skeleton-text animated width=\"100px\" height=\"30px\"></ion-skeleton-text>\n                </ion-label>\n            </ion-item>\n            <div style=\"height:200px\">\n                <ion-skeleton-text animated width=\"100%\" height=\"200px\"></ion-skeleton-text>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"cargaTodo\">\n\n        <div *ngFor=\"let publicacion of publicaciones; let o = index;\">\n            <div class=\"divider ligth\"></div>\n\n\n\n            <div class=\"publicacion dibujar\" *ngIf=\"publicacion.tipo === 'dibujar'\">\n                <ion-item lines=\"none\" class=\"sinfondo\">\n                    <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creador)\">\n                        <img [src]=\"publicacion.image\" width=\"100%\" height=\"100%\" alt=\"\">\n                    </ion-avatar>\n                    <ion-label (click)=\"perfilNavegar(publicacion.creador)\">{{publicacion.creador.nombrecompleto}} <br> {{publicacion.creador.nombreusuario}}</ion-label>\n                    <ion-buttons slot=\"end\">\n                        <ion-button>\n                            <ion-icon name=\"ellipsis-vertical-outline\" slot=\"icon-only\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-item>\n                <div class=\"lienzo\" [style.background]=\"publicacion.dibujo.fondo\" [style.color]=\"publicacion.dibujo.color\">\n                    {{ publicacion.dibujo.texto }}\n                </div>\n                <div class=\"etiquetas\" *ngIf=\"publicacion.etiquetas.length > 0\" (click)=\"etiquetas( publicacion.etiquetas )\">\n                    <h3>Etiquetas</h3>\n                </div>\n\n                <div class=\"opciones\">\n                    <ion-item lines=\"none\" mode=\"md\" class=\"sinfondo\">\n                        <ion-buttons slot=\"start\">\n\n                            <ion-button (click)=\"comentarios( publicacion, o )\">\n                                <ion-icon name=\"chatbubble-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button (click)=\"compartir( publicacion )\">\n                                <ion-icon name=\"arrow-redo-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"!publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark\" color=\"darkgold\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n\n\n                        <ion-buttons slot=\"end\">\n                            {{publicacion.valormg}}\n                            <ion-button *ngIf=\"!publicacion.megusta\" (click)=\"megusta(publicacion, 'megusta', o)\">\n                                <ion-icon name=\"heart-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.megusta\" (click)=\"megusta(publicacion, 'nomegusta', o)\">\n                                <ion-icon name=\"heart\" color=\"danger\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n                    </ion-item>\n\n                    <ion-item lines=\"none\" class=\"sinfondo opacity\" *ngIf=\"publicacion.cog\">\n                        <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creadororiginal)\">\n                            <img [src]=\"publicacion.imageori\" width=\"100%\" height=\"100%\" alt=\"\">\n                        </ion-avatar>\n                        <ion-label (click)=\"perfilNavegar(publicacion.creadororiginal)\"> Publicación original creada por <br> @{{publicacion.creadororiginal.nombreusuario}}</ion-label>\n                    </ion-item>\n                </div>\n\n                <div class=\"comentarios\">\n                    <strong class=\"gris espacio\" (click)=\"perfilNavegar(publicacion.creador)\">{{ publicacion.creador.nombreusuario }}</strong>\n                    <span>{{publicacion.comentario}}</span>\n                </div>\n\n\n                <div class=\"comentar\" (click)=\"comentarios( publicacion, o )\">\n                    <span class=\"opt\">{{publicacion.msg}}</span> <br> Añadir Comentario\n                </div>\n            </div>\n\n\n            <div class=\"publicacion dibujar\" *ngIf=\"publicacion.tipo === 'multimedia'\">\n                <ion-item lines=\"none\" class=\"sinfondo\">\n                    <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creador)\">\n                        <img [src]=\"publicacion.image\" width=\"100%\" height=\"100%\" alt=\"\">\n                    </ion-avatar>\n                    <ion-label (click)=\"perfilNavegar(publicacion.creador)\">{{publicacion.creador.nombrecompleto}} <br> {{publicacion.creador.nombreusuario}}</ion-label>\n                    <ion-buttons slot=\"end\">\n                        <ion-button>\n                            <ion-icon name=\"ellipsis-vertical-outline\" slot=\"icon-only\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-item>\n                <ion-slides *ngIf=\"cargadentro\" color=\"dark\" mode=\"ios\" [pager]=\"publicacion.pager\">\n                    <ion-slide class=\"diapo\" *ngFor=\"let archivo of publicacion.archivos; let i = index;\" (click)=\"ver(publicacion.archivos, i, publicacion)\">\n                        <img *ngIf=\"archivo.mime.includes('image')\" src=\"https://motocaliapp.com/11927613401/{{archivo.ruta}}\" width=\"100%\">\n                        <video video-load poster=\"/assets/Video.png\" *ngIf=\"archivo.mime.includes('video') || archivo.mime.includes('Video') || archivo.mime.includes('mp4') || archivo.mime.includes('MP4')\" src=\"https://motocaliapp.com/11927613401/{{archivo.ruta}}\" width=\"100%\"></video>\n                        <ion-button *ngIf=\"archivo.mime.includes('video') || archivo.mime.includes('Video') || archivo.mime.includes('mp4') || archivo.mime.includes('MP4')\" class=\"btonDiapo\" fill=\"outline\" color=\"blanco\" mode=\"md\" expand=\"block\">Abrir Vídeo</ion-button>\n                    </ion-slide>\n                </ion-slides>\n                <div class=\"etiquetas\" *ngIf=\"publicacion.etiquetas.length > 0\" (click)=\"etiquetas( publicacion.etiquetas )\">\n                    <h3>Etiquetas</h3>\n                </div>\n                <div class=\"opciones\">\n                    <ion-item lines=\"none\" mode=\"md\" class=\"sinfondo\">\n                        <ion-buttons slot=\"start\">\n\n                            <ion-button (click)=\"comentarios( publicacion, o )\">\n                                <ion-icon name=\"chatbubble-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button (click)=\"compartir( publicacion )\">\n                                <ion-icon name=\"arrow-redo-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"!publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark\" color=\"darkgold\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n\n\n                        <ion-buttons slot=\"end\">\n                            {{publicacion.valormg}}\n                            <ion-button *ngIf=\"!publicacion.megusta\" (click)=\"megusta(publicacion, 'megusta', o)\">\n                                <ion-icon name=\"heart-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.megusta\" (click)=\"megusta(publicacion, 'nomegusta', o)\">\n                                <ion-icon name=\"heart\" color=\"danger\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n                    </ion-item>\n\n\n                    <ion-item lines=\"none\" class=\"sinfondo opacity\" *ngIf=\"publicacion.cog\">\n                        <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creadororiginal)\">\n                            <img [src]=\"publicacion.imageori\" width=\"100%\" height=\"100%\" alt=\"\">\n                        </ion-avatar>\n                        <ion-label (click)=\"perfilNavegar(publicacion.creadororiginal)\">{{publicacion.creadororiginal.nombrecompleto}} <br> {{publicacion.creadororiginal.nombreusuario}}</ion-label>\n                    </ion-item>\n                </div>\n\n                <div class=\"comentarios\">\n                    <strong class=\"gris espacio\" (click)=\"perfilNavegar(publicacion.creador)\">{{ publicacion.creador.nombreusuario }}</strong>\n                    <span>{{ publicacion.comentario }}</span>\n                </div>\n\n                <div class=\"comentar\" (click)=\"comentarios( publicacion, o )\">\n                    <span class=\"opt\">{{publicacion.msg}}</span> <br> Añadir Comentario\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n</ion-content>","import { Component, OnInit, Input, ViewChild } from '@angular/core';\nimport { IGTMService } from 'src/app/providers/Api/IGTM.service';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ModalController, IonContent } from '@ionic/angular';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { Socket } from 'ngx-socket-io';\nimport { IgtmplantillaPage } from '../igtmplantilla/igtmplantilla.page';\n\n@Component({\n  selector: 'app-igtmpublic',\n  templateUrl: './igtmpublic.page.html',\n  styleUrls: ['./igtmpublic.page.scss'],\n})\nexport class IgtmpublicPage implements OnInit {\n\n  publicaciones = [];\n  cargadentro = false;\n\n  click = false;\n\n  cargaTodo = false;\n\n  @ViewChild('contenido', {static: false}) contenido: IonContent;\n  \n  constructor(\n    private IGTMApi: IGTMService,\n    private almacenamiento: InicioService,\n    private activeRoute: ActivatedRoute,\n    private modalCtrl: ModalController,\n    private statusbar: StatusBar,\n    private toast: ToastServices,\n    private socket: Socket,\n    private router: Router\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n\n    this.iniciar();\n\n  }\n\n  async iniciar() {\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n\n      \n      this.IGTMApi.leerUna(info.token, {id: this.activeRoute.snapshot.paramMap.get('id')}).subscribe( async (data: any) => {\n        console.log(data)\n        if (data.exe) {\n          data.response.guardado = false;\n          if (data.response.creador.imagen.length > 0) {\n              data.response.image = `https://motocaliapp.com/${data.response.creador.imagen[0].path}`;\n            } else {\n              data.response.image = '/assets/notfound.png';\n            }\n  \n          if (data.response.creadororiginal) {\n              data.response.cog = true;\n              if (data.response.creadororiginal.imagen.length > 0) {\n                data.response.imageori = `https://motocaliapp.com/${data.response.creadororiginal.imagen[0].path}`;\n              } else {\n                data.response.imageori = '/assets/notfound.png';\n              }\n            } else {\n              data.response.cog = false;\n            }\n  \n           \n  \n          await new Promise((resolve, reject) => {\n              this.IGTMApi.leerFotos(info.token, {id: data.response._id}).subscribe((res: any) => {\n           \n              if ( res.exe ){\n                data.response.archivos = res.response;\n                console.log(res.response.length, 'Bien fotos')\n                if (res.response.length > 1) {\n                  data.response.pager = true;\n                  resolve({exe: true})\n                } else {\n                  resolve({exe: false})\n                  data.response.pager = false;\n                }\n              } else {\n                resolve({exe: true})\n                data.response.archivos = []\n              }\n  \n              this.cargadentro = true;\n  \n            }, (err) => {\n              resolve({exe: false})\n              data.response.archivos = [];\n            })\n          })\n  \n          await new Promise((resolve, reject) => {\n            this.IGTMApi.crearGuardado(info.token, {publicacion: data.response._id, tipo: 'leer'}).subscribe((res: any) => {\n               if (res.exe) {\n                data.response.guardado = true;\n               } else {\n                data.response.guardado = false;\n               }\n               resolve(true)\n  \n            }, (err) => {\n              resolve(true)\n              data.response.guardado = false;\n            })\n          });\n  \n          await new Promise((resolve, reject) => {\n            this.IGTMApi.meGusta(info.token, {id: data.response._id, tipo: 'leer'}).subscribe((res: any) => {\n           \n              if ( res.response.find((itemmg: any) => itemmg.creador === info._id)) {\n                data.response.megusta = true;\n              } else {\n                data.response.megusta = false;\n              }\n              resolve(true)\n              data.response.valormg = res.response.length; \n  \n            }, (err) => {\n              resolve(true)\n              data.response.megusta = false;\n              data.response.valormg = '';\n            })\n          });\n  \n  \n          await new Promise((resolve, reject) => {\n            this.IGTMApi.crearComentario(info.token, {_id: data.response._id, tipo: 'leer'}).subscribe((res: any) => {\n  \n              console.log(res.response, 'comentarios', data.response._id)\n           \n              if ( res.exe ){\n                data.response.comentarios = res.response;\n                if (res.response.length > 0) {\n                  data.response.msg = `${data.response.comentarios.length} comentarios...`;\n                } else {\n                  data.response.msg = 'No hay ningún comentario paraesta publicación';\n                }\n              } else {\n                data.response.comentarios = []\n              }\n              resolve(true);\n              this.cargadentro = true;\n  \n            }, (err) => {\n              resolve(true);\n              data.response.comentarios = [];\n            })\n          });\n  \n         \n            // if(item.comentario !== '') {\n            //   let array = item.comentario.split(' ');\n            //   console.log(array, 'array')\n            //   array = array.map((arr: string) => {\n            //     if (arr.charAt(0) === '@') {\n            //       let viaje = arr.substr(1);\n            //       arr = `<a class=\"enlace\" href=\"/central/buscar/perfil-visita/${viaje}\">${arr}</a>`;\n            //       console.log(arr);\n  \n                  \n            //     }\n  \n            //     return arr;\n            //   })\n  \n              \n  \n            //   array = array.join(' ');\n            //   console.log(array);\n            //   item.comentario = array;\n            // }\n            \n          this.publicaciones.push(data.response);\n        } else {\n  \n        }\n  \n        this.cargaTodo = true;\n      }, (err) => {\n  \n      })\n    }\n  }\n  \n  async compartir( publicacion ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'compartir',\n        publicacionc: publicacion,\n      }\n    })\n    await modal.present();\n  \n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n  \n        if (cerrado.data) {\n          if (cerrado.data.recargo) {\n            await this.contenido.scrollToTop();\n          }\n        }\n      }\n  }\n\n  async guardado(publicacion: any, tipo, i) {\n    if (tipo === 'crear') {\n      this.publicaciones[i].guardado = true;\n    } else {\n      this.publicaciones[i].guardado = false;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n      this.IGTMApi.crearGuardado(info.token, {tipo, publicacion: publicacion._id}).subscribe((data: any) => {\n        if (data.exe) {\n          if ( tipo === 'crear') {\n            this.toast.toastNotificacion('Publicación guardada en colecciones');\n           } else {\n            this.toast.toastNotificacion('Publicación eliminada de colecciones');\n           }\n        } else {\n          this.toast.toastError('No se pudo guardar, intentelo más tarde')\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo guardar, intentelo más tarde')\n      })\n\n    }\n  }\n\n  async comentarios( publicacion, indice ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'comentar',\n        publicacion: publicacion._id,\n        creador: publicacion.creador,\n        comentarios: publicacion.comentarios\n      }\n    })\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n\n        if (cerrado.data) {\n          if (cerrado.data.exe) {\n            this.publicaciones[indice].comentarios = cerrado.data.comentarios;\n\n            if (cerrado.data.comentarios.length > 0) {\n              this.publicaciones[indice].msg = `${cerrado.data.comentarios.length} comentarios...`;\n            } else {\n              this.publicaciones[indice].msg = 'No hay ningún comentario paraesta publicación';\n            }\n          }\n        }\n      }\n  }\n\n\n  async megusta(publicacion: any, tipo, i) {\n    if (tipo === 'megusta') {\n      this.publicaciones[i].megusta = true;\n      this.publicaciones[i].valormg = parseFloat(this.publicaciones[i].valormg) + 1;\n    } else {\n      this.publicaciones[i].megusta = false;\n      this.publicaciones[i].valormg = parseFloat(this.publicaciones[i].valormg) - 1;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n      this.IGTMApi.meGusta(info.token, {tipo, id: publicacion._id, creador: publicacion.creador}).subscribe((data: any) => {\n        if (data.exe) {\n\n          if (info._id !== publicacion.creador._id) {\n            if (tipo === 'megusta') {\n              this.socket.emit('megusta', {\n                id: publicacion._id,\n                mensaje: `@${info.nusuario} le gusta tu publicación`,\n                creador: publicacion.creador._id\n              })\n            }\n          }\n\n        } else {\n          this.toast.toastError('No se pudo dar me gusta, intentelo más tarde')\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo dar me gusta, intentelo más tarde')\n      })\n\n    }\n  }\n\n  async etiquetar() {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'etiquetar'\n      }\n    })\n    await modal.present();\n\n    \n  }\n\n  async etiquetas( etiquetados ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'etiquetados',\n        etiquetados\n      }\n    })\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n      }\n  }\n\n  async ver(archivos, indice, info) {\n    \n    if ( !this.click ) {\n      this.click = true;\n      const modal = await this.modalCtrl.create({\n        component: IgtmplantillaPage,\n        componentProps: {\n          tipo: 'visualizador',\n          archivos,\n          indice,\n          info\n        }\n      })\n      await modal.present();\n      const cerrado = await modal.onWillDismiss();\n      if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n      }\n    }\n\n\n  }\n\n  async perfilNavegar( usuario ) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n        if (info.nusuario === usuario.nombreusuario) {\n          this.router.navigate(['/perfil/', 's'])\n        } else {\n          this.router.navigate(['/visita/', usuario.nombreusuario, 's'])\n        }\n    }\n}\n\n\n  \n\n}\n"]}