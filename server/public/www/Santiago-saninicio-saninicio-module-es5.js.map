{"version":3,"sources":["webpack:///src/app/pages/Santiago/historias-modal/historias-modal-routing.module.ts","webpack:///src/app/pages/Santiago/historias-modal/historias-modal.module.ts","webpack:///src/app/pages/Santiago/historias-modal/historias-modal.page.html","webpack:///src/app/pages/Santiago/historias-modal/historias-modal.page.ts","webpack:///src/app/pages/Santiago/saninicio/saninicio-routing.module.ts","webpack:///src/app/pages/Santiago/saninicio/saninicio.module.ts","webpack:///src/app/pages/Santiago/saninicio/saninicio.page.html","webpack:///src/app/pages/Santiago/saninicio/saninicio.page.ts","webpack:///src/app/pages/Santiago/saninicio/video.directive.ts"],"names":["routes","path","component","HistoriasModalPageRoutingModule","forChild","imports","exports","HistoriasModalPageModule","declarations","HistoriasModalPage","modalCtrl","statusbar","router","almacenamiento","IGTMApi","toast","ht","slideopts","grabCursor","cubeEffect","shadow","slideShadows","shadowOffset","shadowScale","on","beforeInit","swiper","classNames","push","params","containerModifierClass","overwriteParams","slidesPerView","slidesPerColumn","slidesPerGroup","watchSlidesProgress","resistanceRatio","spaceBetween","centeredSlides","virtualTranslate","Object","assign","originalParams","setTranslate","$el","$wrapperEl","slides","swiperWidth","width","swiperHeight","height","rtl","rtlTranslate","swiperSize","size","isHorizontal","isVirtual","virtual","enabled","wrapperRotate","$cubeShadowEl","find","length","$","append","css","i","$slideEl","eq","slideIndex","parseInt","attr","slideAngle","round","Math","floor","progress","max","min","tx","ty","tz","transform$$1","transform","shadowBefore","shadowAfter","style","opacity","shadowAngle","abs","multiplier","sin","PI","cos","scale1","scale2","offset$$1","zFactor","browser","isSafari","isUiWebView","setTransition","duration","transition","opt","direction","historiasbase","estilos","cargo","historias","console","log","info","miSlide","slideTo","idx","then","slide","getActiveIndex","vistos","_id","ind","id","obtenerToken","token","subscribe","data","err","dismiss","histo","num","historia","tipo","a","etiqueta","u","navigate","selector","templateUrl","styleUrls","static","SANinicioPageRoutingModule","SANinicioPageModule","entryComponents","SANinicioPage","socket","slideOpt","zoom","maxRatio","toggle","click","publicaciones","cargadentro","noticias","historiasBase","cargaTodo","clicks","iniciar2","iniciar","event","detail","complete","catch","obst","obs","enlace","next","nativeElement","addEventListener","saber","exe","response","forEach","item","guardado","creador","imagen","image","creadororiginal","cog","imageori","Promise","resolve","reject","leerFotos","res","archivos","pager","crearGuardado","publicacion","meGusta","itemmg","megusta","valormg","crearComentario","comentarios","msg","saberHistorias","obj","img","nombre","nombrecompleto","usuario","nombreusuario","parseFloat","emit","mensaje","nusuario","toastError","toastNotificacion","create","componentProps","modal","present","etiquetados","onWillDismiss","cerrado","show","indice","publicacionc","recargo","contenido","scrollToTop","refrescando","VideoDirective","el","currentTime"],"mappings":"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","file":"Santiago-saninicio-saninicio-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HistoriasModalPage } from './historias-modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HistoriasModalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HistoriasModalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HistoriasModalPageRoutingModule } from './historias-modal-routing.module';\n\nimport { HistoriasModalPage } from './historias-modal.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HistoriasModalPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [HistoriasModalPage]\n})\nexport class HistoriasModalPageModule {}\n","<ion-content color=\"darkgold\">\n    <ion-slides #miSlide *ngIf=\"cargo\" [options]=\"slideopts\" (ionSlideWillChange)=\"rotar()\">\n        <ion-slide class=\"red\" *ngFor=\"let historia of historiasbase; let i = index;\">\n\n\n            <ion-slides #slide class=\"sl\" [options]=\"opt\" (ionSlideWillChange)=\"rotar()\">\n                <ion-slide *ngFor=\"let ht of historia; let a = index;\" [class.one]=\"historia.length === 1\" style=\"{{ ht | colores }}\">\n                    <div class=\"encabezado\">\n                        <div class=\"data\">\n                            <ion-avatar>\n                                <img src=\"{{historia[0].image}}\" alt=\"\">\n                            </ion-avatar>\n                            <div class=\"titulo\">\n                                <span>{{ info.nombre }}</span> <br>\n                                <strong>@{{ info.usuario }}</strong>\n                            </div>\n                        </div>\n                        <h1 (click)=\"cerrar()\">x</h1>\n                    </div>\n                    <div class=\"texto\" *ngIf=\"ht.tipo === 'dibujar'\">\n                        <h3>{{ ht.dibujo.texto }}</h3>\n                    </div>\n\n                    <img *ngIf=\"ht.tipo === 'multimedia'\" src=\"https://www.motocaliapp.com/11927613401/{{ht.archivos[0].ruta}}\" alt=\"\">\n\n                    <div class=\"pie\" *ngIf=\"ht.comentario !== '' || ht.etiquetas.length > 0\">\n                        <div class=\"data\" (click)=\"abrir(i, a)\">\n                            Ver m√°s...\n                        </div>\n                    </div>\n\n                    <div *ngIf=\"ht.etiqueta\" class=\"etiquetados\">\n\n                        <div class=\"dataa\">\n                            <div class=\"cerrarr\" (click)=\"cerrar2(i, a)\">x</div>\n                            <div class=\"com\">{{ ht.comentario }}</div>\n                            <ion-list *ngIf=\"ht.etiquetas.length > 0\">\n                                <ion-item-divider class=\"cc\">Usuarios etiquetados</ion-item-divider>\n                                <ion-item color=\"oscuro\" *ngFor=\"let persona of ht.etiquetas\" (click)=\"perfilNavegar(persona.nombreusuario)\">\n                                    <ion-avatar slot=\"start\">\n                                        <img src=\"https://www.motocaliapp.com/{{persona.imagen[0].path}}\">\n                                    </ion-avatar>\n                                    <ion-label>\n                                        <div>{{persona.nombrecompleto}}</div>\n                                        <strong>@{{persona.nombreusuario}}</strong>\n                                    </ion-label>\n                                </ion-item>\n                            </ion-list>\n                        </div>\n                    </div>\n                </ion-slide>\n            </ion-slides>\n\n\n        </ion-slide>\n    </ion-slides>\n\n</ion-content>","import { Component, Input, OnInit, ViewChildren, ViewChild } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ModalController, IonSlides } from '@ionic/angular';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { IGTMService } from '../../../providers/Api/IGTM.service';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\n\n@Component({\n  selector: 'app-historias-modal',\n  templateUrl: './historias-modal.page.html',\n  styleUrls: ['./historias-modal.page.scss'],\n})\nexport class HistoriasModalPage implements OnInit {\n  ht = ['fsdf', 'asdfasf', 'asfas'];\n\n  slideopts = {\n    grabCursor: true,\n    cubeEffect: {\n      shadow: true,\n      slideShadows: true,\n      shadowOffset: 20,\n      shadowScale: 0.94,\n    },\n    on: {\n      beforeInit: function() {\n        const swiper = this;\n        swiper.classNames.push(`${swiper.params.containerModifierClass}cube`);\n        swiper.classNames.push(`${swiper.params.containerModifierClass}3d`);\n  \n        const overwriteParams = {\n          slidesPerView: 1,\n          slidesPerColumn: 1,\n          slidesPerGroup: 1,\n          watchSlidesProgress: true,\n          resistanceRatio: 0,\n          spaceBetween: 0,\n          centeredSlides: false,\n          virtualTranslate: true,\n        };\n  \n        this.params = Object.assign(this.params, overwriteParams);\n        this.originalParams = Object.assign(this.originalParams, overwriteParams);\n      },\n      setTranslate: function() {\n        const swiper = this;\n        const {\n          $el, $wrapperEl, slides, width: swiperWidth, height: swiperHeight, rtlTranslate: rtl, size: swiperSize,\n        } = swiper;\n        const params = swiper.params.cubeEffect;\n        const isHorizontal = swiper.isHorizontal();\n        const isVirtual = swiper.virtual && swiper.params.virtual.enabled;\n        let wrapperRotate = 0;\n        let $cubeShadowEl;\n        if (params.shadow) {\n          if (isHorizontal) {\n            $cubeShadowEl = $wrapperEl.find('.swiper-cube-shadow');\n            if ($cubeShadowEl.length === 0) {\n              $cubeShadowEl = swiper.$('<div class=\"swiper-cube-shadow\"></div>');\n              $wrapperEl.append($cubeShadowEl);\n            }\n            $cubeShadowEl.css({ height: `${swiperWidth}px` });\n          } else {\n            $cubeShadowEl = $el.find('.swiper-cube-shadow');\n            if ($cubeShadowEl.length === 0) {\n              $cubeShadowEl = swiper.$('<div class=\"swiper-cube-shadow\"></div>');\n              $el.append($cubeShadowEl);\n            }\n          }\n        }\n  \n        for (let i = 0; i < slides.length; i += 1) {\n          const $slideEl = slides.eq(i);\n          let slideIndex = i;\n          if (isVirtual) {\n            slideIndex = parseInt($slideEl.attr('data-swiper-slide-index'), 10);\n          }\n          let slideAngle = slideIndex * 90;\n          let round = Math.floor(slideAngle / 360);\n          if (rtl) {\n            slideAngle = -slideAngle;\n            round = Math.floor(-slideAngle / 360);\n          }\n          const progress = Math.max(Math.min($slideEl[0].progress, 1), -1);\n          let tx = 0;\n          let ty = 0;\n          let tz = 0;\n          if (slideIndex % 4 === 0) {\n            tx = -round * 4 * swiperSize;\n            tz = 0;\n          } else if ((slideIndex - 1) % 4 === 0) {\n            tx = 0;\n            tz = -round * 4 * swiperSize;\n          } else if ((slideIndex - 2) % 4 === 0) {\n            tx = swiperSize + (round * 4 * swiperSize);\n            tz = swiperSize;\n          } else if ((slideIndex - 3) % 4 === 0) {\n            tx = -swiperSize;\n            tz = (3 * swiperSize) + (swiperSize * 4 * round);\n          }\n          if (rtl) {\n            tx = -tx;\n          }\n  \n           if (!isHorizontal) {\n            ty = tx;\n            tx = 0;\n          }\n  \n           const transform$$1 = `rotateX(${isHorizontal ? 0 : -slideAngle}deg) rotateY(${isHorizontal ? slideAngle : 0}deg) translate3d(${tx}px, ${ty}px, ${tz}px)`;\n          if (progress <= 1 && progress > -1) {\n            wrapperRotate = (slideIndex * 90) + (progress * 90);\n            if (rtl) wrapperRotate = (-slideIndex * 90) - (progress * 90);\n          }\n          $slideEl.transform(transform$$1);\n          if (params.slideShadows) {\n            // Set shadows\n            let shadowBefore = isHorizontal ? $slideEl.find('.swiper-slide-shadow-left') : $slideEl.find('.swiper-slide-shadow-top');\n            let shadowAfter = isHorizontal ? $slideEl.find('.swiper-slide-shadow-right') : $slideEl.find('.swiper-slide-shadow-bottom');\n            if (shadowBefore.length === 0) {\n              shadowBefore = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'left' : 'top'}\"></div>`);\n              $slideEl.append(shadowBefore);\n            }\n            if (shadowAfter.length === 0) {\n              shadowAfter = swiper.$(`<div class=\"swiper-slide-shadow-${isHorizontal ? 'right' : 'bottom'}\"></div>`);\n              $slideEl.append(shadowAfter);\n            }\n            if (shadowBefore.length) shadowBefore[0].style.opacity = Math.max(-progress, 0);\n            if (shadowAfter.length) shadowAfter[0].style.opacity = Math.max(progress, 0);\n          }\n        }\n        $wrapperEl.css({\n          '-webkit-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          '-moz-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          '-ms-transform-origin': `50% 50% -${swiperSize / 2}px`,\n          'transform-origin': `50% 50% -${swiperSize / 2}px`,\n        });\n  \n         if (params.shadow) {\n          if (isHorizontal) {\n            $cubeShadowEl.transform(`translate3d(0px, ${(swiperWidth / 2) + params.shadowOffset}px, ${-swiperWidth / 2}px) rotateX(90deg) rotateZ(0deg) scale(${params.shadowScale})`);\n          } else {\n            const shadowAngle = Math.abs(wrapperRotate) - (Math.floor(Math.abs(wrapperRotate) / 90) * 90);\n            const multiplier = 1.5 - (\n              (Math.sin((shadowAngle * 2 * Math.PI) / 360) / 2)\n              + (Math.cos((shadowAngle * 2 * Math.PI) / 360) / 2)\n            );\n            const scale1 = params.shadowScale;\n            const scale2 = params.shadowScale / multiplier;\n            const offset$$1 = params.shadowOffset;\n            $cubeShadowEl.transform(`scale3d(${scale1}, 1, ${scale2}) translate3d(0px, ${(swiperHeight / 2) + offset$$1}px, ${-swiperHeight / 2 / scale2}px) rotateX(-90deg)`);\n          }\n        }\n  \n        const zFactor = (swiper.browser.isSafari || swiper.browser.isUiWebView) ? (-swiperSize / 2) : 0;\n        $wrapperEl\n          .transform(`translate3d(0px,0,${zFactor}px) rotateX(${swiper.isHorizontal() ? 0 : wrapperRotate}deg) rotateY(${swiper.isHorizontal() ? -wrapperRotate : 0}deg)`);\n      },\n      setTransition: function(duration) {\n        const swiper = this;\n        const { $el, slides } = swiper;\n        slides\n          .transition(duration)\n          .find('.swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left')\n          .transition(duration);\n        if (swiper.params.cubeEffect.shadow && !swiper.isHorizontal()) {\n          $el.find('.swiper-cube-shadow').transition(duration);\n        }\n      },\n    }\n  }\n\n  opt =  {\n    direction: 'vertical'\n  }\n\n  @Input() info;\n  @Input() historias;\n\n  historiasbase = [];\n\n  estilos = '';\n  cargo = true;\n  \n  \n\n  @ViewChild('slide', {static: false})  slide: IonSlides;\n  @ViewChild('miSlide', {static: false})  miSlide: IonSlides;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private statusbar: StatusBar,\n    private router: Router,\n    private almacenamiento: InicioService,\n    private IGTMApi: IGTMService,\n    private toast: ToastServices,\n  ) { }\n\n  ngOnInit() {\n  }\n\n  ionViewWillEnter() {\n    this.historiasbase = this.historias;\n    console.log(this.historias, this.info);\n    this.miSlide.slideTo(this.info.idx, 0).then(() => {\n      console.log('VIajando')\n      this.slide.getActiveIndex().then((idx) => {\n        this.vistos(this.historiasbase[this.info.idx][idx]._id);\n      })\n    })\n  }\n\n  rotar() {\n    this.miSlide.getActiveIndex().then((ind) => {\n      console.log('VIajando')\n      this.slide.getActiveIndex().then((idx) => {\n        console.log(ind, idx)\n        this.vistos(this.historiasbase[ind][idx]._id);\n      })\n    })\n  }\n\n  async vistos(id) {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.IGTMApi.vistos(info.token, {id: id}).subscribe((data: any) => {\n        console.log(data, 'vistos', id)\n      }, (err) => {\n        \n      })\n    }\n  }\n\n  cerrar() {\n    this.modalCtrl.dismiss()\n    this.historias = [];\n    this.info = {};\n  }\n\n  cambio( histo, idx ) {\n    this.slide.getActiveIndex().then((num) => {\n      let historia = this.historias[idx];\n\n      console.log(historia);\n\n      if (historia[num].tipo === 'dibujar') {\n       // this.statusbar.backgroundColorByHexString(historia[num].dibujo.fondo);\n      } else {\n      //  this.statusbar.backgroundColorByHexString('#273238');\n      }\n    })\n  }\n\n  ver ( histo ) {\n    if (histo.tipo === 'dibujar') {\n   //   this.statusbar.backgroundColorByHexString(histo.dibujo.fondo);\n    } else {\n     // this.statusbar.backgroundColorByHexString('#273238');\n    }\n  }\n\n  abrir(i, a) {\n\n    this.historias[i][a].etiqueta = true;\n\n\n  }\n\ncerrar2(i, a) {\n\n    this.historias[i][a].etiqueta = false;\n\n\n  }\n\n  perfilNavegar(u) {\n    this.modalCtrl.dismiss();\n    this.router.navigate(['/visita/', u, 's'])\n  }\n\n  ionViewWillLeave() {\n   // this.statusbar.backgroundColorByHexString('#273238');\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { SANinicioPage } from './saninicio.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: SANinicioPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SANinicioPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { SANinicioPageRoutingModule } from './saninicio-routing.module';\n\nimport { SANinicioPage } from './saninicio.page';\nimport { VideoDirective } from './video.directive';\nimport { PipesModule } from '../../../pipes/pipes.module';\nimport { IgtmplantillaPage } from '../../Modales/igtmplantilla/igtmplantilla.page';\nimport { IgtmplantillaPageModule } from '../../Modales/igtmplantilla/igtmplantilla.module';\nimport { HistoriasModalPageModule } from '../historias-modal/historias-modal.module';\nimport { HistoriasModalPage } from '../historias-modal/historias-modal.page';\n\n@NgModule({\n  entryComponents: [\n    IgtmplantillaPage,\n    HistoriasModalPage\n  ],\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    SANinicioPageRoutingModule,\n    PipesModule,\n    IgtmplantillaPageModule,\n    HistoriasModalPageModule\n  ],\n  declarations: [SANinicioPage, VideoDirective]\n})\nexport class SANinicioPageModule {}\n","<ion-content [fullscreen]=\"true\" #contenido>\n    <ion-segment scrollable=\"true\" class=\"ct\">\n        <div (click)=\"crearHistoria()\" class=\"color\" *ngFor=\"let noticia of noticias\"> +\n        </div>\n\n        <ion-avatar class=\"avatar\" *ngFor=\"let historia of historias\" (click)=\"navegarHistoria( historia )\">\n            <img src=\"{{ historia.img }}\">\n        </ion-avatar>\n    </ion-segment>\n\n    <ion-refresher slot=\"fixed\" (ionRefresh)=\"refrescando($event)\" pullFactor=\"0.5\" pullMin=\"50\" pullMax=\"150\">\n        <ion-refresher-content pullingIcon=\"arrow-dropdown\" refreshingSpinner=\"circles\">\n        </ion-refresher-content>\n    </ion-refresher>\n    <div *ngIf=\"!cargaTodo\">\n        <div class=\"skt\" *ngFor=\"let kl of [1,1,1,1,1]\">\n            <ion-item lines=\"none\" class=\"sinfondo\">\n                <ion-avatar slot=\"start\">\n                    <ion-skeleton-text animated width=\"100%\" height=\"100%\"></ion-skeleton-text>\n                </ion-avatar>\n                <ion-label>\n                    <ion-skeleton-text animated width=\"100%\" height=\"30px\"></ion-skeleton-text>\n                    <ion-skeleton-text animated width=\"100px\" height=\"30px\"></ion-skeleton-text>\n                </ion-label>\n            </ion-item>\n            <div style=\"height:200px\">\n                <ion-skeleton-text animated width=\"100%\" height=\"200px\"></ion-skeleton-text>\n            </div>\n        </div>\n    </div>\n\n    <div *ngIf=\"cargaTodo\">\n\n        <div *ngFor=\"let publicacion of publicaciones; let o = index;\">\n            <div class=\"divider ligth\"></div>\n\n\n\n            <div class=\"publicacion dibujar\" *ngIf=\"publicacion.tipo === 'dibujar'\">\n                <ion-item lines=\"none\" class=\"sinfondo\">\n                    <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creador)\">\n                        <img [src]=\"publicacion.image\" width=\"100%\" height=\"100%\" alt=\"\">\n                    </ion-avatar>\n                    <ion-label (click)=\"perfilNavegar(publicacion.creador)\">{{publicacion.creador.nombrecompleto}} <br> @{{publicacion.creador.nombreusuario}}</ion-label>\n                    <ion-buttons slot=\"end\">\n                        <ion-button>\n                            <ion-icon name=\"ellipsis-vertical-outline\" slot=\"icon-only\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-item>\n                <div class=\"lienzo\" [style.background]=\"publicacion.dibujo.fondo\" [style.color]=\"publicacion.dibujo.color\">\n                    {{ publicacion.dibujo.texto }}\n                </div>\n                <div class=\"etiquetas\" *ngIf=\"publicacion.etiquetas.length > 0\" (click)=\"etiquetas( publicacion.etiquetas )\">\n                    <h3>Etiquetas</h3>\n                </div>\n\n                <div class=\"opciones\">\n                    <ion-item lines=\"none\" mode=\"md\" class=\"sinfondo\">\n                        <ion-buttons slot=\"start\">\n\n                            <ion-button (click)=\"comentarios( publicacion, o )\">\n                                <ion-icon name=\"chatbubble-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button (click)=\"compartir( publicacion )\">\n                                <ion-icon name=\"arrow-redo-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"!publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.guardado\" (click)=\"guardado(  publicacion,'eliminar', o )\">\n                                <ion-icon name=\"bookmark\" color=\"darkgold\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n\n\n                        <ion-buttons slot=\"end\">\n                            {{publicacion.valormg}}\n                            <ion-button *ngIf=\"!publicacion.megusta\" (click)=\"megusta(publicacion, 'megusta', o)\">\n                                <ion-icon name=\"heart-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.megusta\" (click)=\"megusta(publicacion, 'nomegusta', o)\">\n                                <ion-icon name=\"heart\" color=\"danger\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n                    </ion-item>\n\n                    <ion-item lines=\"none\" class=\"sinfondo opacity\" *ngIf=\"publicacion.cog\">\n                        <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creadororiginal)\">\n                            <img [src]=\"publicacion.imageori\" width=\"100%\" height=\"100%\" alt=\"\">\n                        </ion-avatar>\n                        <ion-label (click)=\"perfilNavegar(publicacion.creadororiginal)\"> Publicaci√≥n original creada por <br> @{{publicacion.creadororiginal.nombreusuario}}</ion-label>\n                    </ion-item>\n                </div>\n\n                <div class=\"comentarios\">\n                    <strong class=\"gris espacio\" (click)=\"perfilNavegar(publicacion.creador)\">{{ publicacion.creador.nombreusuario }}</strong>\n                    <span>{{publicacion.comentario}}</span>\n                </div>\n\n\n                <div class=\"comentar\" (click)=\"comentarios( publicacion, o )\">\n                    <span class=\"opt\">{{publicacion.msg}}</span> <br> A√±adir Comentario\n                </div>\n            </div>\n\n\n            <div class=\"publicacion dibujar\" *ngIf=\"publicacion.tipo === 'multimedia'\">\n                <ion-item lines=\"none\" class=\"sinfondo\">\n                    <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creador)\">\n                        <img [src]=\"publicacion.image\" width=\"100%\" height=\"100%\" alt=\"\">\n                    </ion-avatar>\n                    <ion-label (click)=\"perfilNavegar(publicacion.creador)\">{{publicacion.creador.nombrecompleto}} <br> @{{publicacion.creador.nombreusuario}}</ion-label>\n                    <ion-buttons slot=\"end\">\n                        <ion-button>\n                            <ion-icon name=\"ellipsis-vertical-outline\" slot=\"icon-only\"></ion-icon>\n                        </ion-button>\n                    </ion-buttons>\n                </ion-item>\n                <ion-slides *ngIf=\"cargadentro\" color=\"dark\" mode=\"ios\" [pager]=\"publicacion.pager\">\n                    <ion-slide class=\"diapo\" *ngFor=\"let archivo of publicacion.archivos; let i = index;\" (click)=\"ver(publicacion.archivos, i, publicacion)\">\n                        <img *ngIf=\"archivo.mime.includes('image')\" src=\"https://motocaliapp.com/11927613401/{{archivo.ruta}}\" width=\"100%\">\n                        <video video-load poster=\"/assets/Video.png\" *ngIf=\"archivo.mime.includes('video') || archivo.mime.includes('Video') || archivo.mime.includes('mp4') || archivo.mime.includes('MP4')\" src=\"https://motocaliapp.com/11927613401/{{archivo.ruta}}\" width=\"100%\"></video>\n                        <ion-button *ngIf=\"archivo.mime.includes('video') || archivo.mime.includes('Video') || archivo.mime.includes('mp4') || archivo.mime.includes('MP4')\" class=\"btonDiapo\" fill=\"outline\" color=\"blanco\" mode=\"md\" expand=\"block\">Abrir V√≠deo</ion-button>\n                    </ion-slide>\n                </ion-slides>\n                <div class=\"etiquetas\" *ngIf=\"publicacion.etiquetas.length > 0\" (click)=\"etiquetas( publicacion.etiquetas )\">\n                    <h3>Etiquetas</h3>\n                </div>\n                <div class=\"opciones\">\n                    <ion-item lines=\"none\" mode=\"md\" class=\"sinfondo\">\n                        <ion-buttons slot=\"start\">\n\n                            <ion-button (click)=\"comentarios( publicacion, o )\">\n                                <ion-icon name=\"chatbubble-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button (click)=\"compartir( publicacion )\">\n                                <ion-icon name=\"arrow-redo-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"!publicacion.guardado\" (click)=\"guardado(  publicacion,'crear', o )\">\n                                <ion-icon name=\"bookmark-outline\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.guardado\" (click)=\"guardado(  publicacion,'eliminar', o )\">\n                                <ion-icon name=\"bookmark\" color=\"darkgold\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n\n\n                        <ion-buttons slot=\"end\">\n                            {{publicacion.valormg}}\n                            <ion-button *ngIf=\"!publicacion.megusta\" (click)=\"megusta(publicacion, 'megusta', o)\">\n                                <ion-icon name=\"heart-outline\" slot=\"icon-only\"></ion-icon>\n\n                            </ion-button>\n\n                            <ion-button *ngIf=\"publicacion.megusta\" (click)=\"megusta(publicacion, 'nomegusta', o)\">\n                                <ion-icon name=\"heart\" color=\"danger\" slot=\"icon-only\"></ion-icon>\n                            </ion-button>\n                        </ion-buttons>\n                    </ion-item>\n\n\n                    <ion-item lines=\"none\" class=\"sinfondo opacity\" *ngIf=\"publicacion.cog\">\n                        <ion-avatar slot=\"start\" (click)=\"perfilNavegar(publicacion.creadororiginal)\">\n                            <img [src]=\"publicacion.imageori\" width=\"100%\" height=\"100%\" alt=\"\">\n                        </ion-avatar>\n                        <ion-label (click)=\"perfilNavegar(publicacion.creadororiginal)\">{{publicacion.creadororiginal.nombrecompleto}} <br> {{publicacion.creadororiginal.nombreusuario}}</ion-label>\n                    </ion-item>\n                </div>\n\n                <div class=\"comentarios\">\n                    <strong class=\"gris espacio\" (click)=\"perfilNavegar(publicacion.creador)\">{{ publicacion.creador.nombreusuario }}</strong>\n                    <span>{{ publicacion.comentario }}</span>\n                </div>\n\n                <div class=\"comentar\" (click)=\"comentarios( publicacion, o )\">\n                    <span class=\"opt\">{{publicacion.msg}}</span> <br> A√±adir Comentario\n                </div>\n            </div>\n\n        </div>\n    </div>\n\n</ion-content>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ToastServices } from 'src/app/providers/Utilidades/ToastService.service';\nimport { IGTMService } from 'src/app/providers/Api/IGTM.service';\nimport { ModalController, IonSlides, IonContent } from '@ionic/angular';\nimport { InicioService } from 'src/app/providers/Almacenamiento/inicio.service';\nimport { Router } from '@angular/router';\nimport { Observable, from, fromEvent } from 'rxjs';\nimport { StatusBar } from '@ionic-native/status-bar/ngx';\nimport { Socket } from 'ngx-socket-io';\nimport { IgtmplantillaPage } from '../../Modales/igtmplantilla/igtmplantilla.page';\nimport { HistoriasModalPage } from '../historias-modal/historias-modal.page';\n\n@Component({\n  selector: 'app-saninicio',\n  templateUrl: './saninicio.page.html',\n  styleUrls: ['./saninicio.page.scss'],\n})\nexport class SANinicioPage implements OnInit {\n\n\n\n  slideOpt = {\n    zoom: {\n      maxRatio: 8,\n      toggle: true\n    }\n  }\n\n  click = false;\n\n publicaciones = [];\n cargadentro = false;\n\n noticias = [1];\n historias = [];\n historiasBase = [];\n\n cargaTodo = false;\n\n @ViewChild('.enlace', {static: false}) enlace: ElementRef;\n @ViewChild('contenido', {static: false}) contenido: IonContent;\n\n  constructor(\n    private almacenamiento: InicioService,\n    private modalCtrl: ModalController,\n    private IGTMApi: IGTMService,\n    private toast: ToastServices,\n    private router: Router,\n    private statusbar: StatusBar,\n    private socket: Socket\n  ) { \n    this.clicks().subscribe(() => {\n\n    })\n  }\n\n  \n\nngOnInit() {\n}\n\n  ionViewWillEnter(){\n    console.log('Comenzando')\n    this.historias = [];\n    this.historiasBase = [];\n    this.iniciar2();\n    this.iniciar();\n    \n  }\n\n  refrescando(event) {\n    this.historias = [];\n    this.historiasBase = [];\n    this.iniciar().then(() => {\n       this.iniciar2();\n        event.detail.complete();\n    }).catch(() => {\n       this.iniciar2();\n      event.detail.complete();\n    })\n  }\n\n  clicks() {\n    const obst = new Observable((obs) => {\n      if ( this.enlace) {\n        obs.next('Bien');\n        this.enlace.nativeElement.addEventListener('click', () => {\n          console.log('Hola')\n        })\n      }\n\n    })\n\n    return obst;\n  }\n\n\n  \n  async iniciar() {\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n\n      \n      this.IGTMApi.saber(info.token, {}).subscribe(async (data: any) => {\n        console.log(data)\n        if (data.exe) {\n          data.response.forEach(async (item, i) => {\n\n            item.guardado = false;\n            if (item.creador.imagen.length > 0) {\n              item.image = `https://motocaliapp.com/${item.creador.imagen[0].path}`;\n            } else {\n              item.image = '/assets/notfound.png';\n            }\n\n            if (item.creadororiginal) {\n              item.cog = true;\n              if (item.creadororiginal.imagen.length > 0) {\n                item.imageori = `https://motocaliapp.com/${item.creadororiginal.imagen[0].path}`;\n              } else {\n                item.imageori = '/assets/notfound.png';\n              }\n            } else {\n              item.cog = false;\n            }\n\n           \n\n            await new Promise((resolve, reject) => {\n              this.IGTMApi.leerFotos(info.token, {id: item._id, historia: 'false'}).subscribe((res: any) => {\n           \n              if ( res.exe ){\n                item.archivos = res.response;\n                console.log(res.response.length, 'Bien fotos')\n                if (res.response.length > 1) {\n                  item.pager = true;\n                  resolve({exe: true})\n                } else {\n                  resolve({exe: false})\n                  item.pager = false;\n                }\n              } else {\n                resolve({exe: true})\n                item.archivos = []\n              }\n\n              this.cargadentro = true;\n\n            }, (err) => {\n              resolve({exe: false})\n              item.archivos = [];\n            })\n          })\n\n            await new Promise((resolve, reject) => {\n            this.IGTMApi.crearGuardado(info.token, {publicacion: item._id, tipo: 'leer'}).subscribe((res: any) => {\n                console.log(res, 'Guardado')\n               if (res.exe) {\n                 item.guardado = true;\n               } else {\n                 item.guardado = false;\n               }\n               resolve(true)\n\n            }, (err) => {\n              resolve(true)\n              item.guardado = false;\n            })\n          });\n\n            await new Promise((resolve, reject) => {\n            this.IGTMApi.meGusta(info.token, {id: item._id, tipo: 'leer'}).subscribe((res: any) => {\n           \n              if ( res.response.find((itemmg: any) => itemmg.creador === info._id)) {\n                item.megusta = true;\n              } else {\n                item.megusta = false;\n              }\n              resolve(true)\n              item.valormg = res.response.length; \n\n            }, (err) => {\n              resolve(true)\n              item.megusta = false;\n              item.valormg = '';\n            })\n          });\n\n\n            await new Promise((resolve, reject) => {\n            this.IGTMApi.crearComentario(info.token, {_id: item._id, tipo: 'leer'}).subscribe((res: any) => {\n\n              console.log(res.response, 'comentarios', item._id)\n           \n              if ( res.exe ){\n                item.comentarios = res.response;\n                if (res.response.length > 0) {\n                  item.msg = `${item.comentarios.length} comentarios...`;\n                } else {\n                  item.msg = 'No hay ning√∫n comentario paraesta publicaci√≥n';\n                }\n              } else {\n                item.comentarios = []\n              }\n              resolve(true);\n              this.cargadentro = true;\n\n            }, (err) => {\n              resolve(true);\n              item.comentarios = [];\n            })\n          });\n\n          console.log(item._id);\n\n            // if(item.comentario !== '') {\n            //   let array = item.comentario.split(' ');\n            //   console.log(array, 'array')\n            //   array = array.map((arr: string) => {\n            //     if (arr.charAt(0) === '@') {\n            //       let viaje = arr.substr(1);\n            //       arr = `<a class=\"enlace\" href=\"/central/buscar/perfil-visita/${viaje}\">${arr}</a>`;\n            //       console.log(arr);\n\n                  \n            //     }\n\n            //     return arr;\n            //   })\n\n              \n\n            //   array = array.join(' ');\n            //   console.log(array);\n            //   item.comentario = array;\n            // }\n            \n          })\n          this.publicaciones = data.response;\n        } else {\n\n        }\n\n        this.cargaTodo = true;\n      }, (err) => {\n\n      })\n    }\n  }\n\n  async iniciar2() {\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n\n      \n      this.IGTMApi.saberHistorias(info.token, {}).subscribe(async (data: any) => {\n        console.log(data, 'Historias')\n        if (data.exe) {\n         \n        //this.cargaTodo = true;\n        this.historias = [];\n\n        data.response.forEach(async (item, i) => {\n\n         // item.guardado = false;\n          if (item[0].creador.imagen.length > 0) {\n            item[0].image = `https://motocaliapp.com/${item[0].creador.imagen[0].path}`;\n          } else {\n            item[0].image = '/assets/notfound.png';\n          } \n          let obj = {\n            img: item[0].image,\n            idx: i,\n            nombre: item[0].creador.nombrecompleto,\n            usuario: item[0].creador.nombreusuario\n          }\n\n        \n\n          item.forEach(async(histo) => {\n await new Promise((resolve, reject) => {\n              this.IGTMApi.leerFotos(info.token, {id: histo._id, historia: 'true'}).subscribe((res: any) => {\n           console.log( res.response, 'fotosssssssssssssssssssssss')\n              if ( res.exe ){\n                histo.archivos = res.response;\n                console.log(res.response.length, 'Bien fotos')\n                if (res.response.length > 1) {\n                  resolve({exe: true})\n                } else {\n                  resolve({exe: false})\n                }\n              } else {\n                resolve({exe: true})\n                histo.archivos = []\n              }\n\n            }, (err) => {\n              resolve({exe: false})\n              histo.archivos = [];\n            })\n          })\n          })\n\n  this.historias.push(obj);\n          this.historiasBase.push(item);\n         \n\n        });\n        }\n\n        \n      }, (err) => {\n          console.log('Error', err);\n          \n      })\n    }\n  }\n\n  async megusta(publicacion: any, tipo, i) {\n    console.log(this.publicaciones[i]);\n    if (tipo === 'megusta') {\n      this.publicaciones[i].megusta = true;\n      this.publicaciones[i].valormg = parseFloat(this.publicaciones[i].valormg) + 1;\n    } else {\n      this.publicaciones[i].megusta = false;\n      this.publicaciones[i].valormg = parseFloat(this.publicaciones[i].valormg) - 1;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n      this.IGTMApi.meGusta(info.token, {tipo, id: publicacion._id, creador: publicacion.creador}).subscribe((data: any) => {\n        if (data.exe) {\n          if (info._id !== publicacion.creador._id) {\n            if (tipo === 'megusta') {\n              this.socket.emit('megusta', {\n                id: publicacion._id,\n                mensaje: `@${info.nusuario} le gusta tu publicaci√≥n`,\n                creador: publicacion.creador._id\n              })\n            }\n          }\n        } else {\n          this.toast.toastError('No se pudo dar me gusta, intentelo m√°s tarde')\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo dar me gusta, intentelo m√°s tarde')\n      })\n\n    }\n  }\n\n\n\n  async guardado(publicacion: any, tipo, i) {\n    if (tipo === 'crear') {\n      this.publicaciones[i].guardado = true;\n    } else {\n      this.publicaciones[i].guardado = false;\n    }\n    const info = await this.almacenamiento.obtenerToken();\n   \n    if ( info ) {\n      this.IGTMApi.crearGuardado(info.token, {tipo, publicacion: publicacion._id}).subscribe((data: any) => {\n        if (data.exe) {\n           if ( tipo === 'crear') {\n            this.toast.toastNotificacion('Publicaci√≥n guardada en colecciones');\n           } else {\n            this.toast.toastNotificacion('Publicaci√≥n eliminada de colecciones');\n           }\n        } else {\n          this.toast.toastError('No se pudo guardar, intentelo m√°s tarde')\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo guardar, intentelo m√°s tarde')\n      })\n\n    }\n  }\n\n  async etiquetar() {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'etiquetar'\n      }\n    })\n    await modal.present();\n\n    \n  }\n\n  async etiquetas( etiquetados ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'etiquetados',\n        etiquetados\n      }\n    })\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n      }\n  }\n\n  async ver(archivos, indice, info) {\n    \n    if ( !this.click ) {\n      this.click = true;\n      const modal = await this.modalCtrl.create({\n        component: IgtmplantillaPage,\n        componentProps: {\n          tipo: 'visualizador',\n          archivos,\n          indice,\n          info\n        }\n      })\n      await modal.present();\n      const cerrado = await modal.onWillDismiss();\n      if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n      }\n    }\n\n\n\n  }\n\n\n  async comentarios( publicacion, indice ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'comentar',\n        publicacion: publicacion._id,\n        creador: publicacion.creador,\n        comentarios: publicacion.comentarios\n      }\n    })\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n\n        if (cerrado.data) {\n          if (cerrado.data.exe) {\n            this.publicaciones[indice].comentarios = cerrado.data.comentarios;\n\n            if (cerrado.data.comentarios.length > 0) {\n              this.publicaciones[indice].msg = `${cerrado.data.comentarios.length} comentarios...`;\n            } else {\n              this.publicaciones[indice].msg = 'No hay ning√∫n comentario paraesta publicaci√≥n';\n            }\n          }\n        }\n\n      }\n  }\n\n\n  async compartir( publicacion ) {\n    const modal = await this.modalCtrl.create({\n      component: IgtmplantillaPage,\n      componentProps: {\n        tipo: 'compartir',\n        publicacionc: publicacion,\n      }\n    })\n    await modal.present();\n\n    const cerrado = await modal.onWillDismiss();\n    if (cerrado) {\n        this.statusbar.show();\n        this.click = false;\n\n        if (cerrado.data) {\n          if (cerrado.data.recargo) {\n            await this.contenido.scrollToTop();\n          }\n        }\n      }\n  }\n  perfil( usuario ) {\n    console.log('Holaa')\n    \n  }\n\n  async perfilNavegar( usuario ) {\n      const info = await this.almacenamiento.obtenerToken();\n\n      if ( info ) {\n          if (info.nusuario === usuario.nombreusuario) {\n            this.router.navigate(['/perfil/', 's'])\n          } else {\n            this.router.navigate(['/visita/', usuario.nombreusuario, 's'])\n          }\n      }\n  }\n\n  crearHistoria() {\n    this.router.navigate(['historias/historia']);\n  }\n\n  async navegarHistoria( historia ) {\n    const modal = await this.modalCtrl.create({\n      component: HistoriasModalPage,\n      componentProps: {\n        info: historia,\n        historias: this.historiasBase\n      }\n    })\n\n    await modal.present();\n  }\n\n}\n","import { Directive, HostListener, ElementRef } from '@angular/core';\r\n\r\n@Directive({\r\n    selector: '[video-load]'\r\n})\r\n\r\nexport class VideoDirective {\r\n    \r\n    constructor(\r\n        private el: ElementRef\r\n    ) { }\r\n\r\n    @HostListener('loadstart') cargando() {\r\n       \r\n        this.el.nativeElement.currentTime = 0.3;\r\n    }\r\n}\r\n"]}