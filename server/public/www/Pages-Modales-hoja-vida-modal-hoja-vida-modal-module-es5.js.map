{"version":3,"sources":["webpack:///src/app/Pages/Modales/hoja-vida-modal/hoja-vida-modal-routing.module.ts","webpack:///src/app/Pages/Modales/hoja-vida-modal/hoja-vida-modal.module.ts","webpack:///src/app/Pages/Modales/hoja-vida-modal/hoja-vida-modal.page.html","webpack:///src/app/Pages/Modales/hoja-vida-modal/hoja-vida-modal.page.ts"],"names":["routes","path","component","HojaVidaModalPageRoutingModule","forChild","imports","exports","HojaVidaModalPageModule","declarations","HojaVidaModalPage","modalCtrl","actionCtrl","almacenamiento","camera","toast","myLoading","hojaApi","activeRoute","router","carrete","carreteRoot","tipo","cargado","gorw","mt","slideOpt","zoom","maxRation","toggle","tipoVista","repuesto","nombre","precio","undefined","cantidad","total","trabajo","repuestos","trabajos","id","idHoja","fotos","titulo","textoActual","titulotipo","snapshot","paramMap","get","traerFotos","miHoja","obtenerToken","info","leefotos","token","subscribe","data","console","log","exe","response","asunto","slide","slideTo","parseFloat","then","catch","err","toastError","getActiveIndex","indx","leeHoja2","_id","event","detail","value","idx","texto","create","header","buttons","icon","text","handler","tomarFoto","PictureSourceType","CAMERA","PHOTOLIBRARY","action","present","sourceType","mode","options","quality","allowEdit","correctOrientation","destinationType","DestinationType","FILE_URI","mediaType","MediaType","PICTURE","getPicture","imageData","mim","name","includes","push","mime","cont","length","url","window","Ionic","WebView","convertFileSrc","cleanup","indice","splice","msg","editarHoja","toastExitoso","cargaProcesos","final","forEach","item","subirArchivosHoja","image","JSON","parse","finalizarCargado","toastNotificacion","navigate","error","alertApplication","dismiss","selector","templateUrl","styleUrls","static"],"mappings":"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","file":"Pages-Modales-hoja-vida-modal-hoja-vida-modal-module-es5.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { HojaVidaModalPage } from './hoja-vida-modal.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: HojaVidaModalPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class HojaVidaModalPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { HojaVidaModalPageRoutingModule } from './hoja-vida-modal-routing.module';\n\nimport { HojaVidaModalPage } from './hoja-vida-modal.page';\nimport { PipesModule } from '../../../pipes/pipes.module';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    HojaVidaModalPageRoutingModule,\n    PipesModule\n  ],\n  declarations: [HojaVidaModalPage]\n})\nexport class HojaVidaModalPageModule {}\n","<ion-content color=\"darkgold\" [fullscreen]=\"true\" *ngIf=\"tipoVista === 'fotos'\">\n    <ion-item color=\"darkgold\">\n\n        <ion-buttons slot=\"start\">\n            <ion-back-button icon=\"chevron-back-outline\" defaultHref=\"/central/menu/miscitas\">\n\n            </ion-back-button>\n        </ion-buttons>\n\n        <ion-buttons slot=\"end\">\n            <ion-button (click)=\"guardar()\" color=\"blanco\">\n                <ion-icon name=\"save-outline\" slot=\"icon-only\"></ion-icon>\n            </ion-button>\n        </ion-buttons>\n    </ion-item>\n\n    <ion-item color=\"darkgold\">\n        <ion-label>Seleccione el tipo</ion-label>\n        <ion-select (ionChange)=\"cambiar( $event )\" value=\"Fotos de Entrada\" cancelText=\"Cancelar\" okText=\"Aplicar\">\n            <ion-select-option value=\"Fotos de Entrada\">Fotos de Entrada</ion-select-option>\n            <ion-select-option value=\"Fotos de Salida\">Fotos de Salida</ion-select-option>\n            <ion-select-option value=\"Novedades\">Novedades</ion-select-option>\n        </ion-select>\n\n\n    </ion-item>\n\n    <ion-slides *ngIf=\"cargado\" [options]=\"slideOpt\">\n        <ion-slide *ngFor=\"let archivo of carreteRoot; let i = index;\">\n            <img *ngIf=\"archivo.mime.includes('image')\" src=\"{{archivo.path}}\" width=\"100%\">\n            <ion-textarea inputmode=\"text\" [autoGrow]=\"gorw\" maxlength=\"200\" placeholder=\"Escribe alguna descripción\" (ionChange)=\"descripcion($event, i)\" [value]=\"archivo.texto\"></ion-textarea>\n\n            <div class=\"eliminar\" (click)=\"eliminardelCarrete(i)\">\n                <ion-chip color=\"danger\">Eliminar</ion-chip>\n            </div>\n        </ion-slide>\n    </ion-slides>\n\n\n    <ion-fab slot=\"fixed\" horizontal=\"end\" vertical=\"bottom\">\n        <ion-fab-button (click)=\"seleccione()\" color=\"dark\">\n            <ion-icon name=\"camera-outline\"></ion-icon>\n        </ion-fab-button>\n    </ion-fab>\n</ion-content>\n\n<ion-header *ngIf=\"tipoVista === 'repuestos' || tipoVista === 'trabajos'\" class=\"ion-no-border\">\n    <ion-toolbar color=\"oscuro\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button icon=\"chevron-back-outline\" defaultHref=\"/central/menu/miscitas\">\n\n            </ion-back-button>\n        </ion-buttons>\n\n        <ion-title>Añadir</ion-title>\n    </ion-toolbar>\n</ion-header>\n\n<ion-content *ngIf=\"tipoVista === 'ver'\">\n    <div class=\"barra\">\n        <ion-buttons slot=\"start\">\n            <ion-back-button icon=\"chevron-back-outline\" defaultHref=\"/central/menu/miscitas\">\n\n            </ion-back-button>\n\n            {{ titulotipo }}\n        </ion-buttons>\n\n    </div>\n    <ion-slides #ele class=\"verslide\" *ngIf=\"cargado\" [options]=\"slideOpt\" (ionSlideDidChange)=\"cambiarSlide()\">\n\n        <ion-slide *ngFor=\"let archivo of fotos; let i = index;\">\n\n            <img *ngIf=\"archivo.mime.includes('image')\" src=\"https://motocaliapp.com/11927613402/{{archivo.ruta}}\">\n\n        </ion-slide>\n    </ion-slides>\n    <div class=\"texto\" *ngIf=\"mt\">{{textoActual}}</div>\n</ion-content>\n\n<ion-content *ngIf=\"tipoVista === 'repuestos' || tipoVista === 'trabajos'\">\n\n    <ion-card mode=\"ios\" *ngIf=\"tipoVista === 'repuestos'\">\n        <ion-card-content>\n\n\n            <ion-list>\n\n                <ion-item class=\"sinfondo\" lines=\"none\">\n                    <ion-label slot=\"start\" class=\"ion-text-wrap\">\n                        Nombre del prodcuto\n                    </ion-label>\n                </ion-item>\n\n                <ion-item class=\"sinfondo\">\n                    <ion-input [(ngModel)]=\"repuesto.nombre\" type=\"text\" placeholder=\"Nombre del producto\"></ion-input>\n                </ion-item>\n                <br>\n                <ion-item class=\"sinfondo\" lines=\"none\">\n                    <ion-label slot=\"start\">\n                        Precio Unitario\n                    </ion-label>\n                </ion-item>\n\n                <ion-item class=\"sinfondo\">\n                    <ion-input (ionChange)=\"salidaCambioProd($event, 'precio')\" [(ngModel)]=\"repuesto.precio\" type=\"number\" placeholder=\"Digitar valor\"></ion-input>\n                </ion-item>\n\n                <ion-item class=\"sinfondo\" lines=\"none\">\n                    <ion-label slot=\"start\">\n                        Cantidad\n                    </ion-label>\n\n                </ion-item>\n\n                <ion-item class=\"sinfondo\">\n                    <ion-input (ionChange)=\"salidaCambioProd($event, 'canti')\" [(ngModel)]=\"repuesto.cantidad\" type=\"number\" placeholder=\"Digitar valor\"></ion-input>\n\n                </ion-item>\n                <br>\n\n                <div class=\"total \">\n                    <div class=\"flexbet\">\n                        <strong>Total: </strong> <span class=\"verdei\">${{repuesto.total | decimales:'es-CO'}}</span>\n                    </div>\n\n                </div>\n\n\n\n            </ion-list>\n\n            <div class=\"flexbet\">\n\n\n\n                <ion-button class=\"btn\" color=\"barra\" expand=\"block\" mode=\"ios\" shape=\"round\" (click)=\"guardarHoja('rep')\">GUARDAR</ion-button>\n            </div>\n        </ion-card-content>\n    </ion-card>\n\n\n\n    <ion-card mode=\"ios\" *ngIf=\"tipoVista === 'trabajos'\">\n        <ion-card-content>\n\n\n            <ion-list>\n                \n                <ion-item class=\"sinfondo\" lines=\"none\">\n                    <ion-label slot=\"start\" class=\"ion-text-wrap\">\n                        Nombre del trabajo\n                    </ion-label>\n                </ion-item>\n\n                <ion-item class=\"sinfondo\">\n                    <ion-input [(ngModel)]=\"trabajo.nombre\" type=\"text\" placeholder=\"Nombre del trabajo\"></ion-input>\n                </ion-item>\n\n                <br>\n                <ion-item class=\"sinfondo\" lines=\"none\">\n                    <ion-label slot=\"start\" class=\"ion-text-wrap\">\n                        Precio Mano de Obra\n                    </ion-label>\n                </ion-item>\n\n                <ion-item class=\"sinfondo\">\n                    <ion-input [(ngModel)]=\"trabajo.precio\" type=\"number\" placeholder=\"Digitar valor\"></ion-input>\n                </ion-item>\n\n                <br>\n\n                <div class=\"total \">\n                    <div class=\"flexbet\">\n                        <strong>Total: </strong> <span class=\"verdei\">${{trabajo.precio | decimales:'es-CO'}}</span>\n                    </div>\n\n                </div>\n\n\n\n            </ion-list>\n\n            <div class=\"flexbet\">\n\n\n\n                <ion-button class=\"btn\" color=\"barra\" expand=\"block\" mode=\"ios\" shape=\"round\" (click)=\"guardarHoja('tra')\">GUARDAR</ion-button>\n            </div>\n        </ion-card-content>\n    </ion-card>\n</ion-content>","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { ModalController, ActionSheetController, IonSlides } from '@ionic/angular';\nimport { InicioService } from '../../../providers/Almacenamiento/inicio.service';\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\nimport { ToastServices } from '../../../providers/Utilidades/ToastService.service';\nimport { LoadingService } from '../../../providers/Utilidades/LoadingService.service';\nimport { EstadoCitasService } from '../../../providers/Api/EstadoCitas.service';\nimport { ActivatedRoute, Router } from '@angular/router';\ndeclare var window: any;\n\n@Component({\n  selector: 'app-hoja-vida-modal',\n  templateUrl: './hoja-vida-modal.page.html',\n  styleUrls: ['./hoja-vida-modal.page.scss'],\n})\nexport class HojaVidaModalPage implements OnInit {\n  carrete = [];\n  carreteRoot = [];\n\n  tipo = 'Fotos de Entrada';\n\n  cargado = false;\n  gorw = false;\n  mt = true;\n\n  slideOpt = {\n    zoom: {\n      maxRation: 8,\n      toggle: true\n    }\n  }\n\n  tipoVista = '';\n\n  repuesto = {\n    nombre: '',\n    precio:  undefined,\n    cantidad: undefined,\n    total: 0\n  }\n\n  trabajo = {\n    nombre: '',\n    precio:  0\n  }\n\n  repuestos = [];\n  trabajos = [];\n\n  id = '';\n  idHoja = '';\n\n  fotos = [];\n\n  titulo = '';\n  textoActual = '';\n  titulotipo = '';\n\n  @ViewChild('ele', {static: false}) slide: IonSlides;\n\n  constructor(\n    private modalCtrl: ModalController,\n    private actionCtrl: ActionSheetController,\n    private almacenamiento: InicioService,\n    private camera: Camera,\n    private toast: ToastServices,\n    private myLoading: LoadingService,\n    private hojaApi: EstadoCitasService,\n    private activeRoute: ActivatedRoute,\n    private router: Router\n  ) { \n  \n  }\n\n  ngOnInit() {\n  }\n\n  async ionViewWillEnter() {\n    this.tipoVista = this.activeRoute.snapshot.paramMap.get('tipo');\n    this.id = this.activeRoute.snapshot.paramMap.get('id');\n    this.idHoja = this.activeRoute.snapshot.paramMap.get('hoja');\n\n    if ( this.activeRoute.snapshot.paramMap.get('tipo') === 'ver') {\n      this.traerFotos();\n    }\n    this.miHoja();\n    \n  }\n\n  async traerFotos() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n        this.cargado = true;\n        this.hojaApi.leefotos(info.token, {id: this.idHoja}).subscribe((data: any) => {\n          console.log(data, 'ft')\n          if (data.exe) {\n            this.fotos = data.response;\n            this.textoActual = this.fotos[0].asunto;\n            this.titulotipo = this.fotos[0].tipo;\n            this.slide.slideTo(parseFloat(this.activeRoute.snapshot.paramMap.get('idx')), 300).then(() => {\n\n            }).catch(() => {\n\n            })\n          } else {\n\n          }\n        }, (err) => {\n          this.toast.toastError('No se pudo traer las fotos de la hoja de vida, inténtelo más tarde');\n        })\n    }\n}\n\n\nasync  cambiarSlide( ) {\n this.slide.getActiveIndex().then((indx) => {\n   this.titulotipo = this.fotos[indx].tipo;\n   this.textoActual = this.fotos[indx].asunto;\n  });\n}\n\n  async miHoja() {\n    const info = await this.almacenamiento.obtenerToken();\n\n    if ( info ) {\n      this.cargado = true;\n      this.hojaApi.leeHoja2(info.token, {id: this.id}).subscribe((data: any) => {\n        if (data.exe) {\n          console.log(data);\n          this.idHoja = data.response._id;\n          this.repuestos = data.response.repuestos;\n          this.trabajos = data.response.trabajos;\n        } else {\n\n        }\n      }, (err) => {\n        this.toast.toastError('No se pudo traer la información de la hoja de vida, inténtelo más tarde');\n      })\n    }\n  }\n\n  cambiar( event ) {\n    this.tipo = event.detail.value;\n  }\n\n\n  descripcion(event, idx) {\n    if (event.detail.value !== '') {\n      this.gorw = true;\n    } else {\n      this.gorw = false;\n    }\n    this.carreteRoot[idx].texto = event.detail.value;\n    this.carrete[idx].texto = event.detail.value;\n  }\n\n  async seleccione() {\n    const action = await this.actionCtrl.create({\n      header: 'Escoge una opción',\n      buttons: [\n        {\n          icon: 'camera-outline',\n          text: 'Tomar foto de la cámara',\n          handler: () => {\n            this.tomarFoto(this.camera.PictureSourceType.CAMERA);\n          }\n        },\n        {\n          icon: 'image-outline',\n          text: 'Subir foto de galería',\n          handler: () => {\n            this.tomarFoto(this.camera.PictureSourceType.PHOTOLIBRARY, 'image');\n          }\n        }\n      ]\n    })\n\n    await action.present();\n}\n\n\npublic tomarFoto(sourceType, mode?) {\n  const options: CameraOptions = {\n    quality: 100,\n    allowEdit: true,\n    correctOrientation: true,\n    destinationType: this.camera.DestinationType.FILE_URI,\n    mediaType: this.camera.MediaType.PICTURE,\n    sourceType\n  };\n\n  this.camera.getPicture(options).then( async (imageData) => {\n     let mim = '';\n     let name = '';\n     // console.log('image data', imageData)\n     if (imageData.includes('jpg')){\n       mim = 'image/jpg';\n       name = 'image.jpg';\n     } else if (imageData.includes('png')) {\n      mim = 'image/png';\n      name = 'image.png';\n     } else if (imageData.includes('jpeg')) {\n      mim = 'image/jpeg';\n      name = 'image.jpeg';\n     } else if (imageData.includes('gif')) {\n      mim = 'image/gif';\n      name = 'image.gif';\n     } else {\n       name = 'video.mp4';\n       mim = 'video/mp4';\n     }\n     console.log('Mi archivo', name, mim)\n     this.carrete.push({path: imageData, name, mime: mim, cont: this.carrete.length + 1, texto: ''});\n     const url = window.Ionic.WebView.convertFileSrc( imageData );\n     this.carreteRoot.push({path: url, mime: mim, texto: ''});\n     // console.log(this.carrete);\n     this.camera.cleanup().then(() =>  console.log('Eliminado'));\n  });\n\n\n}\n\neliminardelCarrete(indice) {\n  this.carrete.splice(indice, 1);\n  this.carreteRoot.splice(indice, 1);\n}\n\nsalidaCambioProd(event, tipo) {\n  if ( tipo === 'precio') {\n      this.repuesto.precio = event.detail.value;\n  } else if ( tipo === 'canti') {\n      this.repuesto.cantidad = event.detail.value;\n  }\n\n  this.repuesto.total = this.repuesto.precio * this.repuesto.cantidad;\n}\n\nasync guardarHoja(tipo) {\n  \n  const info = await this.almacenamiento.obtenerToken();\n\n  if ( info ) {\n    let msg = '';\n    if ( tipo === 'rep') {\n\n      if (this.repuesto.nombre === '' || this.repuesto.nombre === ' ') {\n        this.toast.toastError('Debe específicar el nombre del repuesto');\n        return;\n      }\n\n      if (!this.repuesto.precio || this.repuesto.precio === 0) {\n        this.toast.toastError('Ingrese un precio para el repuesto');\n        return;\n      }\n\n      if (!this.repuesto.cantidad || this.repuesto.cantidad === 0) {\n        this.toast.toastError('Ingrese una cantidad para el repuesto');\n        return;\n      }\n\n      msg = 'Repuesto agregado';\n      this.repuestos.push(this.repuesto);\n    } else if ( tipo === 'tra' ) {\n      if (this.trabajo.nombre === '' || this.trabajo.nombre === ' ') {\n        this.toast.toastError('Debe específicar el trabajo realizado');\n        return;\n      }\n\n      if (!this.trabajo.precio || this.trabajo.precio === 0) {\n        this.toast.toastError('Ingrese un valor de mano de obrao');\n        return;\n      }\n\n      msg = 'Trabajo agregado';\n      this.trabajos.push(this.trabajo);\n    }\n    this.cargado = true;\n    this.hojaApi.editarHoja(info.token, {id: this.idHoja, repuestos: this.repuestos, trabajos: this.trabajos}).subscribe((data: any) => {\n      if (data.exe) {\n        this.toast.toastExitoso(msg, 3000);\n      } else {\n        this.toast.toastError('No se pudo realizar la petición, inténtelo más tarde');\n      }\n    }, (err) => {\n      this.toast.toastError('No se pudo realizar la petición, inténtelo más tarde');\n    })\n  }\n}\n\n\n\nasync guardar() {\n  // console.log(this.carrete);\n  if ( this.carrete.length > 0 ) {\n      const info = await this.almacenamiento.obtenerToken();\n      this.myLoading.cargaProcesos('subiendo imágenes, por favor espere');\n      if ( info ) {\n              const id = this.idHoja;\n             \n              console.log(this.carrete, ' imagenes');\n              let cont = this.carrete.length;\n              let final = this.carrete.length === 1 ? true: false;\n              this.carrete.forEach((item: any) => {\n                // console.log(item, 'itm');\n                // tslint:disable-next-line:max-line-length\n                this.hojaApi.subirArchivosHoja(info.token, id, item.path, item.texto, this.tipo, item.name, item.mime).subscribe((image: any) => {\n                      image.response = JSON.parse(image.response);\n                      if (image.response.exe) {\n                        cont--;\n\n                        console.log('Entamos')\n\n                        if (cont === 1) {\n                          final = true;\n                        }\n\n                        if (cont === 0) {\n                          image.response.response.tipo = 'file';\n                          this.myLoading.finalizarCargado();\n                          this.toast.toastNotificacion('Fotos subidas a la hoja de vida');\n                          this.router.navigate(['/central/menu/miscitas/hoja', this.activeRoute.snapshot.paramMap.get('id')])\n                        }\n\n                      }\n                      // console.log(image, ' image cada vuelta');\n                }, (error) => {\n                  // console.log('Error ', error);\n                  this.myLoading.finalizarCargado();\n                  this.toast.alertApplication('No se pudo subir la imagen', true);\n                });\n              });\n      }\n  } \n}\n\ncancelar(){\n  this.modalCtrl.dismiss();\n}\n\n\n}\n"]}